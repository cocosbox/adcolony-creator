!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).installAdColony=t()}}(function(){return function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(t,e,r){"use strict";r.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){for(var e,r=c(t),n=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),u=0,l=s>0?n-4:n,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,r){var n=function(t){"use strict";var e=1e7,r=7,i=9007199254740992,o=h(i),s=Math.log(i);function a(t,e){return void 0===t?a[0]:void 0!==e?10==+e?H(t):U(t,e):H(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function c(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){return-i<t&&t<i}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function p(t){f(t);var r=t.length;if(r<4&&A(t,o)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function f(t){for(var e=t.length;0===t[--e];);t.length=e+1}function d(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function y(t){return t>0?Math.floor(t):Math.ceil(t)}function m(t,r){var n,i,o=t.length,s=r.length,a=new Array(o),u=0,c=e;for(i=0;i<s;i++)u=(n=t[i]+r[i]+u)>=c?1:0,a[i]=n-u*c;for(;i<o;)u=(n=t[i]+u)===c?1:0,a[i++]=n-u*c;return u>0&&a.push(u),a}function g(t,e){return t.length>=e.length?m(t,e):m(e,t)}function v(t,r){var n,i,o=t.length,s=new Array(o),a=e;for(i=0;i<o;i++)n=t[i]-a+r,r=Math.floor(n/a),s[i]=n-r*a,r+=1;for(;r>0;)s[i++]=r%a,r=Math.floor(r/a);return s}function w(t,r){var n,i,o=t.length,s=r.length,a=new Array(o),u=0,c=e;for(n=0;n<s;n++)(i=t[n]-u-r[n])<0?(i+=c,u=1):u=0,a[n]=i;for(n=s;n<o;n++){if(!((i=t[n]-u)<0)){a[n++]=i;break}i+=c,a[n]=i}for(;n<o;n++)a[n]=t[n];return f(a),a}function b(t,r,n){var i,o,s=t.length,a=new Array(s),l=-r,h=e;for(i=0;i<s;i++)o=t[i]+l,l=Math.floor(o/h),o%=h,a[i]=o<0?o+h:o;return"number"==typeof(a=p(a))?(n&&(a=-a),new c(a)):new u(a,n)}function E(t,r){var n,i,o,s,a=t.length,u=r.length,c=d(a+u),l=e;for(o=0;o<a;++o){s=t[o];for(var h=0;h<u;++h)n=s*r[h]+c[o+h],i=Math.floor(n/l),c[o+h]=n-i*l,c[o+h+1]+=i}return f(c),c}function T(t,r){var n,i,o=t.length,s=new Array(o),a=e,u=0;for(i=0;i<o;i++)n=t[i]*r+u,u=Math.floor(n/a),s[i]=n-u*a;for(;u>0;)s[i++]=u%a,u=Math.floor(u/a);return s}function x(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function _(t,r,n){return new u(t<e?T(r,t):E(r,h(t)),n)}function S(t){var r,n,i,o,s=t.length,a=d(s+s),u=e;for(i=0;i<s;i++){o=t[i];for(var c=0;c<s;c++)r=o*t[c]+a[i+c],n=Math.floor(r/u),a[i+c]=r-n*u,a[i+c+1]+=n}return f(a),a}function D(t,r){var n,i,o,s,a=t.length,u=d(a),c=e;for(o=0,n=a-1;n>=0;--n)o=(s=o*c+t[n])-(i=y(s/r))*r,u[n]=0|i;return[u,0|o]}function N(t,r){var n,i,o=H(r),s=t.value,l=o.value;if(0===l)throw new Error("Cannot divide by zero");if(t.isSmall)return o.isSmall?[new c(y(s/l)),new c(s%l)]:[a[0],t];if(o.isSmall){if(1===l)return[t,a[0]];if(-1==l)return[t.negate(),a[0]];var m=Math.abs(l);if(m<e){i=p((n=D(s,m))[0]);var g=n[1];return t.sign&&(g=-g),"number"==typeof i?(t.sign!==o.sign&&(i=-i),[new c(i),new c(g)]):[new u(i,t.sign!==o.sign),new c(g)]}l=h(m)}var v=A(s,l);if(-1===v)return[a[0],t];if(0===v)return[a[t.sign===o.sign?1:-1],a[0]];i=(n=s.length+l.length<=200?function(t,r){var n,i,o,s,a,u,c,l=t.length,h=r.length,f=e,y=d(r.length),m=r[h-1],g=Math.ceil(f/(2*m)),v=T(t,g),w=T(r,g);for(v.length<=l&&v.push(0),w.push(0),m=w[h-1],i=l-h;i>=0;i--){for(n=f-1,v[i+h]!==m&&(n=Math.floor((v[i+h]*f+v[i+h-1])/m)),o=0,s=0,u=w.length,a=0;a<u;a++)o+=n*w[a],c=Math.floor(o/f),s+=v[i+a]-(o-c*f),o=c,s<0?(v[i+a]=s+f,s=-1):(v[i+a]=s,s=0);for(;0!==s;){for(n-=1,o=0,a=0;a<u;a++)(o+=v[i+a]-f+w[a])<0?(v[i+a]=o+f,o=0):(v[i+a]=o,o=1);s+=o}y[i]=n}return v=D(v,g)[0],[p(y),p(v)]}(s,l):function(t,r){for(var n,i,o,s,a,u=t.length,c=r.length,l=[],h=[],d=e;u;)if(h.unshift(t[--u]),f(h),A(h,r)<0)l.push(0);else{o=h[(i=h.length)-1]*d+h[i-2],s=r[c-1]*d+r[c-2],i>c&&(o=(o+1)*d),n=Math.ceil(o/s);do{if(A(a=T(r,n),h)<=0)break;n--}while(n);l.push(n),h=w(h,a)}return l.reverse(),[p(l),p(h)]}(s,l))[0];var b=t.sign!==o.sign,E=n[1],x=t.sign;return"number"==typeof i?(b&&(i=-i),i=new c(i)):i=new u(i,b),"number"==typeof E?(x&&(E=-E),E=new c(E)):E=new u(E,x),[i,E]}function A(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function C(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(25)||void 0))}u.prototype=Object.create(a.prototype),c.prototype=Object.create(a.prototype),u.prototype.add=function(t){var e=H(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(v(r,Math.abs(n)),this.sign):new u(g(r,n),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(t){var e=H(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(l(r+n))return new c(r+n);n=h(Math.abs(n))}return new u(v(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,u.prototype.subtract=function(t){var e=H(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?b(r,Math.abs(n),this.sign):function(t,e,r){var n;return A(t,e)>=0?n=w(t,e):(n=w(e,t),r=!r),"number"==typeof(n=p(n))?(r&&(n=-n),new c(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(t){var e=H(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new c(r-n):b(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var t=this.sign,e=new c(-this.value);return e.sign=!t,e},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},u.prototype.multiply=function(t){var r,n,i,o=H(t),s=this.value,c=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===c)return a[0];if(1===c)return this;if(-1===c)return this.negate();if((r=Math.abs(c))<e)return new u(T(s,r),l);c=h(r)}return n=s.length,i=c.length,new u(-.012*n-.012*i+15e-6*n*i>0?function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return E(e,r);n=Math.ceil(n/2);var i=e.slice(n),o=e.slice(0,n),s=r.slice(n),a=r.slice(0,n),u=t(o,a),c=t(i,s),l=g(g(u,x(w(w(t(g(o,i),g(a,s)),u),c),n)),x(c,2*n));return f(l),l}(s,c):E(s,c),l)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(t){return l(t.value*this.value)?new c(t.value*this.value):_(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?a[0]:1===t.value?this:-1===t.value?this.negate():_(Math.abs(t.value),this.value,this.sign!==t.sign)},c.prototype.multiply=function(t){return H(t)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,u.prototype.square=function(){return new u(S(this.value),!1)},c.prototype.square=function(){var t=this.value*this.value;return l(t)?new c(t):new u(S(h(Math.abs(this.value))),!1)},u.prototype.divmod=function(t){var e=N(this,t);return{quotient:e[0],remainder:e[1]}},c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return N(this,t)[0]},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return N(this,t)[1]},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=H(t),o=this.value,s=i.value;if(0===s)return a[1];if(0===o)return a[0];if(1===o)return a[1];if(-1===o)return i.isEven()?a[1]:a[-1];if(i.sign)return a[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&l(e=Math.pow(o,s)))return new c(y(e));for(r=this,n=a[1];!0&s&&(n=n.times(r),--s),0!==s;)s/=2,r=r.square();return n},c.prototype.pow=u.prototype.pow,u.prototype.modPow=function(t,e){if(t=H(t),(e=H(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=a[1],n=this.mod(e);t.isPositive();){if(n.isZero())return a[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},c.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=H(t),r=this.value,n=e.value;return e.isSmall?1:A(r,n)},c.prototype.compareAbs=function(t){var e=H(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=H(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:A(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=H(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},u.prototype.isDivisibleBy=function(t){var e=H(t),r=e.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(e).equals(a[0])))},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(){var t=C(this);if(void 0!==t)return t;for(var e,r,i,o,s=this.abs(),u=s.prev(),c=[2,3,5,7,11,13,17,19],l=u;l.isEven();)l=l.divide(2);for(i=0;i<c.length;i++)if(!(o=n(c[i]).modPow(l,s)).equals(a[1])&&!o.equals(u)){for(r=!0,e=l;r&&e.lesser(u);e=e.multiply(2))(o=o.square().mod(s)).equals(u)&&(r=!1);if(r)return!1}return!0},c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(t){var e=C(this);if(void 0!==e)return e;for(var r=this.abs(),i=void 0===t?5:t,o=0;o<i;o++){if(!n.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1}return!0},c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,r,i,o=n.zero,s=n.one,a=H(t),u=this.abs();!u.equals(n.zero);)e=a.divide(u),r=o,i=a,o=s,a=u,s=r.subtract(e.multiply(s)),u=i.subtract(e.multiply(u));if(!a.equals(1))throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new u(v(t,1),this.sign)},c.prototype.next=function(){var t=this.value;return t+1<i?new c(t+1):new u(o,!1)},u.prototype.prev=function(){var t=this.value;return this.sign?new u(v(t,1),!0):b(t,1,this.sign)},c.prototype.prev=function(){var t=this.value;return t-1>-i?new c(t-1):new u(o,!0)};for(var L=[1];2*L[L.length-1]<=e;)L.push(2*L[L.length-1]);var P=L.length,I=L[P-1];function M(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=e||t instanceof u&&t.value.length<=1}function O(t,e,r){e=H(e);for(var i=t.isNegative(),o=e.isNegative(),s=i?t.not():t,a=o?e.not():e,u=0,c=0,l=null,h=null,p=[];!s.isZero()||!a.isZero();)u=(l=N(s,I))[1].toJSNumber(),i&&(u=I-1-u),c=(h=N(a,I))[1].toJSNumber(),o&&(c=I-1-c),s=l[0],a=h[0],p.push(r(u,c));for(var f=0!==r(i?1:0,o?1:0)?n(-1):n(0),d=p.length-1;d>=0;d-=1)f=f.multiply(I).add(n(p[d]));return f}u.prototype.shiftLeft=function(t){if(!M(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);for(var e=this;t>=P;)e=e.multiply(I),t-=P-1;return e.multiply(L[t])},c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e;if(!M(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var r=this;t>=P;){if(r.isZero())return r;r=(e=N(r,I))[1].isNegative()?e[0].prev():e[0],t-=P-1}return(e=N(r,L[t]))[1].isNegative()?e[0].prev():e[0]},c.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},c.prototype.not=u.prototype.not,u.prototype.and=function(t){return O(this,t,function(t,e){return t&e})},c.prototype.and=u.prototype.and,u.prototype.or=function(t){return O(this,t,function(t,e){return t|e})},c.prototype.or=u.prototype.or,u.prototype.xor=function(t){return O(this,t,function(t,e){return t^e})},c.prototype.xor=u.prototype.xor;var F=1<<30,R=(e&-e)*(e&-e)|F;function B(t){var r=t.value,n="number"==typeof r?r|F:r[0]+r[1]*e|R;return n&-n}function j(t,e){return t=H(t),e=H(e),t.greater(e)?t:e}function k(t,e){return t=H(t),e=H(e),t.lesser(e)?t:e}function X(t,e){if(t=H(t).abs(),e=H(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=a[1];t.isEven()&&e.isEven();)r=Math.min(B(t),B(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(B(t));do{for(;e.isEven();)e=e.divide(B(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(n(0))<0&&(t=t.negate().subtract(n(1))),0===t.compareTo(n(0))?n(0):n(function t(e,r){if(r.compareTo(e)<=0){var i=t(e,r.square(r)),o=i.p,s=i.e,a=o.multiply(r);return a.compareTo(e)<=0?{p:a,e:2*s+1}:{p:o,e:2*s}}return{p:n(1),e:0}}(t,n(2)).e).add(n(1))},c.prototype.bitLength=u.prototype.bitLength;var U=function(t,e){for(var r=t.length,n=Math.abs(e),i=0;i<r;i++){if("-"!==(l=t[i].toLowerCase())&&/[a-z0-9]/.test(l)){if(/[0-9]/.test(l)&&+l>=n){if("1"===l&&1===n)continue;throw new Error(l+" is not a valid digit in base "+e+".")}if(l.charCodeAt(0)-87>=n)throw new Error(l+" is not a valid digit in base "+e+".")}}if(2<=e&&e<=36&&r<=s/Math.log(e)){var o=parseInt(t,e);if(isNaN(o))throw new Error(l+" is not a valid digit in base "+e+".");return new c(parseInt(t,e))}e=H(e);var a=[],u="-"===t[0];for(i=u?1:0;i<t.length;i++){var l,h=(l=t[i].toLowerCase()).charCodeAt(0);if(48<=h&&h<=57)a.push(H(l));else if(97<=h&&h<=122)a.push(H(l.charCodeAt(0)-87));else{if("<"!==l)throw new Error(l+" is not a valid character");var p=i;do{i++}while(">"!==t[i]);a.push(H(t.slice(p+1,i)))}}return G(a,e,u)};function G(t,e,r){var n,i=a[0],o=a[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(o)),o=o.times(e);return r?i.negate():i}function V(t){return t<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t):"<"+t+">"}function W(t,e){if((e=n(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+t-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(t.isNegative()&&e.isPositive()&&(i=!0,t=t.abs()),e.equals(1))return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+t)).map(Number.prototype.valueOf,1),isNegative:i};for(var o,s=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){a=(o=a.divmod(e)).quotient;var u=o.remainder;u.isNegative()&&(u=e.minus(u).abs(),a=a.next()),s.push(u.toJSNumber())}return s.push(a.toJSNumber()),{value:s.reverse(),isNegative:i}}function q(t,e){var r=W(t,e);return(r.isNegative?"-":"")+r.value.map(V).join("")}function z(t){if(l(+t)){var e=+t;if(e===y(e))return new c(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var i=t.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==y(o)||!l(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var s=i[0],a=s.indexOf(".");if(a>=0&&(o-=s.length-a-1,s=s.slice(0,a)+s.slice(a+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=s+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var h=[],p=t.length,d=r,m=p-d;p>0;)h.push(+t.slice(m,p)),(m-=d)<0&&(m=0),p-=d;return f(h),new u(h,n)}function H(t){return"number"==typeof t?function(t){if(l(t)){if(t!==y(t))throw new Error(t+" is not an integer.");return new c(t)}return z(t.toString())}(t):"string"==typeof t?z(t):t}u.prototype.toArray=function(t){return W(this,t)},c.prototype.toArray=function(t){return W(this,t)},u.prototype.toString=function(t){if(void 0===t&&(t=10),10!==t)return q(this,t);for(var e,r=this.value,n=r.length,i=String(r[--n]);--n>=0;)e=String(r[n]),i+="0000000".slice(e.length)+e;return(this.sign?"-":"")+i},c.prototype.toString=function(t){return void 0===t&&(t=10),10!=t?q(this,t):String(this.value)},u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf;for(var K=0;K<1e3;K++)a[K]=new c(K),K>0&&(a[-K]=new c(-K));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=j,a.min=k,a.gcd=X,a.lcm=function(t,e){return t=H(t).abs(),e=H(e).abs(),t.divide(X(t,e)).multiply(e)},a.isInstance=function(t){return t instanceof u||t instanceof c},a.randBetween=function(t,r){var n=k(t=H(t),r=H(r)),i=j(t,r).subtract(n).add(1);if(i.isSmall)return n.add(Math.floor(Math.random()*i));for(var o=[],s=!0,a=i.value.length-1;a>=0;a--){var l=s?i.value[a]:e,h=y(Math.random()*l);o.unshift(h),h<l&&(s=!1)}return o=p(o),n.add("number"==typeof o?new c(o):new u(o,!1))},a.fromArray=function(t,e,r){return G(t.map(H),H(e||10),r)},a}();void 0!==e&&e.hasOwnProperty("exports")&&(e.exports=n)},{}],3:[function(t,e,r){(function(r){"use strict";var n=t("stream-buffers"),i=!1;function o(t){this.value=t}function s(t){if(t.bplistOverride)return[t];if(t instanceof Array)return function(t){i&&console.log("toEntriesArray");var e=[{type:"array",entries:[]}];return t.forEach(function(t){var r=s(t);e[0].entries.push(r[0]),e=e.concat(r)}),e}(t);if(t instanceof r)return[{type:"data",value:t}];if(t instanceof o)return[{type:"double",value:t.value}];if("object"==typeof t)return t instanceof Date?[{type:"date",value:t}]:1==Object.keys(t).length&&"number"==typeof t.UID?[{type:"UID",value:t.UID}]:function(t){i&&console.log("toEntriesObject");var e=[{type:"dict",entryKeys:[],entryValues:[]}];return Object.keys(t).forEach(function(t){var r=s(t);e[0].entryKeys.push(r[0]),e=e.concat(r[0])}),Object.keys(t).forEach(function(r){var n=s(t[r]);e[0].entryValues.push(n[0]),e=e.concat(n)}),e}(t);if("string"==typeof t)return[{type:"string",value:t}];if("number"==typeof t)return[{type:"number",value:t}];if("boolean"==typeof t)return[{type:"boolean",value:t}];throw new Error("unhandled entry: "+t)}e.exports=function(e){var o=new n.WritableStreamBuffer;o.write(new r("bplist00")),i&&console.log("create",t("util").inspect(e,!1,10)),e instanceof Array&&1===e.length&&(e=e[0]);var a=s(e);i&&console.log("entries",a);var u,c,l,h,p=function(t){if(t<256)return 1;if(t<65536)return 2;return 4}(a.length),f=[];return l={},h=0,a.forEach(function(t){t.id||("string"===t.type?!t.bplistOverride&&l.hasOwnProperty(t.value)?(t.type="stringref",t.id=l[t.value]):l[t.value]=t.id=h++:t.id=h++)}),(a=a.filter(function(t){return"stringref"!==t.type})).forEach(function(t,e){f[e]=o.size(),t?function(t){switch(t.type){case"dict":!function(t){if(i){var e=t.entryKeys.map(function(t){return t.id}),r=t.entryValues.map(function(t){return t.id});console.log("0x"+o.size().toString(16),"writeDict","(id: "+t.id+")","(keys: "+e+")","(values: "+r+")")}g(13,t.entryKeys.length),t.entryKeys.forEach(function(t){v(t.id)}),t.entryValues.forEach(function(t){v(t.id)})}(t);break;case"number":case"double":!function(t){i&&console.log("0x"+o.size().toString(16),"writeNumber",t.value," (type: "+t.type+")","(id: "+t.id+")");"double"!==t.type&&parseFloat(t.value.toFixed())==t.value?t.value<0?(y(19),w(t.value,8)):t.value<=255?(y(16),w(t.value,1)):t.value<=65535?(y(17),w(t.value,2)):t.value<=4294967295?(y(18),w(t.value,4)):(y(19),w(t.value,8)):(y(35),m(t.value))}(t);break;case"UID":!function(t){i&&console.log("0x"+o.size().toString(16),"writeUID",t.value," (type: "+t.type+")","(id: "+t.id+")");g(8,0),v(t.value)}(t);break;case"array":!function(t){i&&console.log("0x"+o.size().toString(16),"writeArray (length: "+t.entries.length+")","(id: "+t.id+")");g(10,t.entries.length),t.entries.forEach(function(t){v(t.id)})}(t);break;case"boolean":!function(t){i&&console.log("0x"+o.size().toString(16),"writeBoolean",t.value,"(id: "+t.id+")");y(t.value?9:8)}(t);break;case"string":case"string-utf16":!function(t){i&&console.log("0x"+o.size().toString(16),"writeString",t.value,"(id: "+t.id+")");if("string-utf16"===t.type||(u=t.value,r.byteLength(u,"utf8")!=u.length)){var e=new r(t.value,"ucs2");g(6,e.length/2);for(var n=0;n<e.length;n+=2){var s=e[n+0];e[n+0]=e[n+1],e[n+1]=s}o.write(e)}else{var a=new r(t.value,"ascii");g(5,a.length),o.write(a)}var u}(t);break;case"date":!function(t){y(51),m(Date.parse(t.value)/1e3-978307200)}(t);break;case"data":!function(t){i&&console.log("0x"+o.size().toString(16),"writeData",t.value,"(id: "+t.id+")");g(4,t.value.length),o.write(t.value)}(t);break;default:throw new Error("unhandled entry type: "+t.type)}}(t):o.write(0)}),function(){i&&console.log("0x"+o.size().toString(16),"writeOffsetTable");c=o.size(),u=function(t){if(t<256)return 1;if(t<65536)return 2;if(t<4294967296)return 4;return 8}(c),f.forEach(function(t){w(t,u)})}(),function(){i&&console.log("0x"+o.size().toString(16),"writeTrailer");o.write(new r([0,0,0,0,0,0])),i&&console.log("0x"+o.size().toString(16),"writeTrailer(offsetSizeInBytes):",u);y(u),i&&console.log("0x"+o.size().toString(16),"writeTrailer(offsetSizeInBytes):",p);y(p),i&&console.log("0x"+o.size().toString(16),"writeTrailer(number of objects):",a.length);d(a.length),i&&console.log("0x"+o.size().toString(16),"writeTrailer(top object)");d(0),i&&console.log("0x"+o.size().toString(16),"writeTrailer(offset table offset):",c);d(c)}(),o.getContents();function d(t){w(t,8)}function y(t){o.write(new r([t]))}function m(t){var e=new r(8);e.writeDoubleBE(t,0),o.write(e)}function g(t,e){e<15?y((t<<4)+e):e<256?(y(15+(t<<4)),y(16),w(e,1)):e<65536?(y(15+(t<<4)),y(17),w(e,2)):(y(15+(t<<4)),y(18),w(e,4))}function v(t){w(t,p)}function w(t,e){for(var n=new r(e),i=0;e>4;)n[i++]=0,e--;for(var s=e-1;s>=0;s--)n[i++]=t>>8*s;o.write(n)}},e.exports.Real=o}).call(this,t("buffer").Buffer)},{buffer:7,"stream-buffers":62,util:67}],4:[function(t,e,r){(function(e){"use strict";var n=t("fs"),i=t("big-integer"),o=!1;r.maxObjectSize=1e8,r.maxObjectCount=32768;var s=9783072e5,a=r.UID=function(t){this.UID=t},u=(r.parseFile=function(t,r){function i(t){var e,n=null;try{e=u(t)}catch(t){n=t}r(n,e)}if(e.isBuffer(t))return i(t);n.readFile(t,function(t,e){if(t)return r(t);i(e)})},r.parseBuffer=function(t){if("bplist"!==t.slice(0,"bplist".length).toString("utf8"))throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=t.slice(t.length-32,t.length),u=n.readUInt8(6);o&&console.log("offsetSize: "+u);var h=n.readUInt8(7);o&&console.log("objectRefSize: "+h);var p=l(n,8);o&&console.log("numObjects: "+p);var f=l(n,16);o&&console.log("topObject: "+f);var d=l(n,24);if(o&&console.log("offsetTableOffset: "+d),p>r.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var y=[],m=0;m<p;m++){var g=t.slice(d+m*u,d+(m+1)*u);y[m]=c(g,0),o&&console.log("Offset for Object #"+m+" is "+y[m]+" ["+y[m].toString(16)+"]")}return[function n(u){var l=y[u],p=t[l],f=(240&p)>>4,d=15&p;switch(f){case 0:return function(){switch(d){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+f.toString(16))}}();case 1:return function(){var e=Math.pow(2,d);if(e>4){var n=t.slice(l+1,l+1+e),o=function(t){var e,r="";for(e=0;e<t.length&&0==t[e];e++);for(;e<t.length;e++){var n="00"+t[e].toString(16);r+=n.substr(n.length-2)}return r}(n);return i(o,16)}if(e<r.maxObjectSize)return c(t.slice(l+1,l+1+e));throw new Error("To little heap space available! Wanted to read "+e+" bytes, but only "+r.maxObjectSize+" are available.")}();case 8:return function(){var e=d+1;if(e<r.maxObjectSize)return new a(c(t.slice(l+1,l+1+e)));throw new Error("To little heap space available! Wanted to read "+e+" bytes, but only "+r.maxObjectSize+" are available.")}();case 2:return function(){var e=Math.pow(2,d);if(!(e<r.maxObjectSize))throw new Error("To little heap space available! Wanted to read "+e+" bytes, but only "+r.maxObjectSize+" are available.");var n=t.slice(l+1,l+1+e);return 4===e?n.readFloatBE(0):8===e?n.readDoubleBE(0):void 0}();case 3:return function(){3!=d&&console.error("Unknown date type :"+d+". Parsing anyway...");var e=t.slice(l+1,l+9);return new Date(s+1e3*e.readDoubleBE(0))}();case 4:return function(){var e=1,n=d;if(15==d){var i=t[l+1],o=(240&i)/16;1!=o&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+o);var s=15&i,a=Math.pow(2,s);e=2+a,n=c(t.slice(l+2,l+2+a))}if(n<r.maxObjectSize)return t.slice(l+e,l+e+n);throw new Error("To little heap space available! Wanted to read "+n+" bytes, but only "+r.maxObjectSize+" are available.")}();case 5:return m();case 6:return m(!0);case 10:return function(){var e=d,i=1;if(15==d){var o=t[l+1],s=(240&o)/16;1!=s&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+s);var a=15&o,u=Math.pow(2,a);i=2+u,e=c(t.slice(l+2,l+2+u))}if(e*h>r.maxObjectSize)throw new Error("To little heap space available!");for(var p=[],f=0;f<e;f++){var y=c(t.slice(l+i+f*h,l+i+(f+1)*h));p[f]=n(y)}return p}();case 13:return function(){var e=d,i=1;if(15==d){var s=t[l+1],a=(240&s)/16;1!=a&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+a);var p=15&s,f=Math.pow(2,p);i=2+f,e=c(t.slice(l+2,l+2+f))}if(2*e*h>r.maxObjectSize)throw new Error("To little heap space available!");o&&console.log("Parsing dictionary #"+u);for(var y={},m=0;m<e;m++){var g=c(t.slice(l+i+m*h,l+i+(m+1)*h)),v=c(t.slice(l+i+e*h+m*h,l+i+e*h+(m+1)*h)),w=n(g),b=n(v);o&&console.log("  DICT #"+u+": Mapped "+w+" to "+b),y[w]=b}return y}();default:throw new Error("Unhandled type 0x"+f.toString(16))}function m(n){n=n||0;var i="utf8",o=d,s=1;if(15==d){var a=t[l+1],u=(240&a)/16;1!=u&&console.err("UNEXPECTED LENGTH-INT TYPE! "+u);var h=15&a,p=Math.pow(2,h);s=2+p,o=c(t.slice(l+2,l+2+p))}if((o*=n+1)<r.maxObjectSize){var f=new e(t.slice(l+s,l+s+o));return n&&(f=function(t){for(var e=t.length,r=0;r<e;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t}(f),i="ucs2"),f.toString(i)}throw new Error("To little heap space available! Wanted to read "+o+" bytes, but only "+r.maxObjectSize+" are available.")}}(f)]});function c(t,e){for(var r=0,n=e=e||0;n<t.length;n++)r<<=8,r|=255&t[n];return r}function l(t,e){return t.slice(e,e+8).readUInt32BE(4,8)}}).call(this,t("buffer").Buffer)},{"big-integer":2,buffer:7,fs:"fs"}],5:[function(t,e,r){},{}],6:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}r.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":56}],7:[function(t,e,r){"use strict";var n=t("base64-js"),i=t("ieee754");r.Buffer=a,r.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function s(t){if(t>o)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(t)}return u(t,e,r)}function u(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return X(t)||t&&X(t.buffer)?function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=a.prototype,n}(t,e,r):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|f(t,e),n=s(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e):function(t){if(a.isBuffer(t)){var e=0|p(t.length),r=s(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||U(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t){return c(t),s(t<0?0:0|p(t))}function h(t){for(var e=t.length<0?0:0|p(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){h=!1;break}if(h)return o}return-1}function g(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(U(a))return s;t[r+s]=a}return s}function v(t,e,r,n){return k(B(e,t.length-r),t,r,n)}function w(t,e,r,n){return k(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r,n){return w(t,e,r,n)}function E(t,e,r,n){return k(j(e),t,r,n)}function T(t,e,r,n){return k(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function _(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}r.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{get:function(){if(this instanceof a)return this.buffer}}),Object.defineProperty(a.prototype,"offset",{get:function(){if(this instanceof a)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,r){return u(t,e,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(ArrayBuffer.isView(o)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,r);case"utf8":case"utf-8":return _(this,e,r);case"ascii":return D(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,u=Math.min(o,s),c=this.slice(n,i),l=t.slice(e,r),h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return b(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function D(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function A(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=R(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(t,e,r,n,o){return e=+e,r>>>=0,o||I(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function O(t,e,r,n,o){return e=+e,r>>>=0,o||I(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return O(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return O(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=a.isBuffer(t)?t:new a(t,n),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%u]}return this};var F=/[^+/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function X(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function U(t){return t!=t}},{"base64-js":1,ieee754:10}],8:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},r.isBoolean=function(t){return"boolean"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return"number"==typeof t},r.isString=function(t){return"string"==typeof t},r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return"[object RegExp]"===e(t)},r.isObject=function(t){return"object"==typeof t&&null!==t},r.isDate=function(t){return"[object Date]"===e(t)},r.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},r.isFunction=function(t){return"function"==typeof t},r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":12}],9:[function(t,e,r){var n=Object.create||function(t){var e=function(){};return e.prototype=t,new e},i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return r},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=0===c.x}catch(t){a=!1}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,i){var o,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]):(s=t._events=n(null),t._eventsCount=0),a){if("function"==typeof a?a=s[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),!a.warned&&(o=l(t))&&o>0&&a.length>o){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else a=s[e]=r,++t._eventsCount;return t}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function f(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=o.call(p,n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(!n)return[];var i=n[e];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):m(i,i.length):[]}function y(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function m(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');u=t}}):s.defaultMaxListeners=u,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){var e,r,n,i,o,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(r=s[t]))return!1;var c="function"==typeof r;switch(n=arguments.length){case 1:!function(t,e,r){if(e)t.call(r);else for(var n=t.length,i=m(t,n),o=0;o<n;++o)i[o].call(r)}(r,c,this);break;case 2:!function(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=m(t,i),s=0;s<i;++s)o[s].call(r,n)}(r,c,this,arguments[1]);break;case 3:!function(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=m(t,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,c,this,arguments[1],arguments[2]);break;case 4:!function(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,a=m(t,s),u=0;u<s;++u)a[u].call(r,n,i,o)}(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=m(t,i),s=0;s<i;++s)o[s].apply(r,n)}(r,c,this,i)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,o,s,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=n(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){a=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,o),1===r.length&&(i[t]=r[0]),i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.removeAllListeners=function(t){var e,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=n(null):delete r[t]),this;if(0===arguments.length){var s,a=i(r);for(o=0;o<a.length;++o)"removeListener"!==(s=a[o])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],10:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=c}return(f?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+f]=255&s,f+=d,s/=256,c-=8);t[r+f-d]|=128*y}},{}],11:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],12:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],13:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],14:[function(t,e,r){var n=t("./lib/parse");Object.keys(n).forEach(function(t){r[t]=n[t]});var i=t("./lib/build");Object.keys(i).forEach(function(t){r[t]=i[t]})},{"./lib/build":15,"./lib/parse":16}],15:[function(t,e,r){(function(e){var n=t("base64-js"),i=t("xmlbuilder");r.build=function(t,r){var o={version:"1.0",encoding:"UTF-8"},a={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},u=i.create("plist");u.dec(o.version,o.encoding,o.standalone),u.dtd(a.pubid,a.sysid),u.att("version","1.0"),function t(r,i){var o,a,u,c=s(r);if("Undefined"!=c)if(Array.isArray(r))for(i=i.ele("array"),a=0;a<r.length;a++)t(r[a],i);else if(e.isBuffer(r))i.ele("data").raw(r.toString("base64"));else if("Object"==c)for(u in i=i.ele("dict"),r)r.hasOwnProperty(u)&&(i.ele("key").txt(u),t(r[u],i));else"Number"==c?(o=r%1==0?"integer":"real",i.ele(o).txt(r.toString())):"Date"==c?i.ele("date").txt(function(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"}(new Date(r))):"Boolean"==c?i.ele(r?"true":"false"):"String"==c?i.ele("string").txt(r):"ArrayBuffer"==c?i.ele("data").raw(n.fromByteArray(r)):r&&r.buffer&&"ArrayBuffer"==s(r.buffer)&&i.ele("data").raw(n.fromByteArray(new Uint8Array(r.buffer),i))}(t,u),r||(r={});return r.pretty=!1!==r.pretty,u.end(r)};var o=Object.prototype.toString;function s(t){var e=o.call(t).match(/\[object (.*)\]/);return e?e[1]:e}}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":12,"base64-js":17,xmlbuilder:39}],16:[function(t,e,r){(function(e){var n=t("xmldom").DOMParser;function i(t){return 3===t.nodeType||8===t.nodeType||4===t.nodeType}function o(t){return!t.childNodes||0===t.childNodes.length}r.parse=function(t){var r=(new n).parseFromString(t);if("plist"!==r.documentElement.nodeName)throw new Error("malformed document. First element should be <plist>");var s=function t(r){var n,s,a,u,c,l;if(!r)return null;if("plist"===r.nodeName){for(u=[],n=0;n<r.childNodes.length;n++)i(r.childNodes[n])||u.push(t(r.childNodes[n]));return u}if("dict"===r.nodeName){for(s={},a=null,n=0;n<r.childNodes.length;n++)i(r.childNodes[n])||(null===a?a=t(r.childNodes[n]):(s[a]=t(r.childNodes[n]),a=null));return s}if("array"===r.nodeName){for(u=[],n=0;n<r.childNodes.length;n++)i(r.childNodes[n])||null!=(c=t(r.childNodes[n]))&&u.push(c);return u}if("#text"===r.nodeName);else{if("key"===r.nodeName)return o(r)?null:(c="",r.childNodes[0]&&(c=r.childNodes[0].nodeValue),c);if("string"===r.nodeName){if(c="",o(r))return null;for(l=0;l<r.childNodes.length;l++)c+=r.childNodes[l].nodeValue;return c}if("integer"===r.nodeName)return parseInt(r.childNodes[0].nodeValue,10);if("real"===r.nodeName){for(c="",l=0;l<r.childNodes.length;l++)3===r.childNodes[l].nodeType&&(c+=r.childNodes[l].nodeValue);return parseFloat(c)}if("data"===r.nodeName){for(c="",l=0;l<r.childNodes.length;l++)3===r.childNodes[l].nodeType&&(c+=r.childNodes[l].nodeValue.replace(/\s+/g,""));return new e(c,"base64")}if("date"===r.nodeName)return new Date(r.childNodes[0].nodeValue);if("true"===r.nodeName)return!0;if("false"===r.nodeName)return!1}}(r.documentElement);1==s.length&&(s=s[0]);return s}}).call(this,t("buffer").Buffer)},{buffer:7,xmldom:106}],17:[function(t,e,r){"use strict";r.toByteArray=function(t){var e,r,n,s,a,u,c=t.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===t[c-2]?2:"="===t[c-1]?1:0,u=new o(3*c/4-a),n=a>0?c-4:c;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)s=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],u[l++]=s>>16&255,u[l++]=s>>8&255,u[l++]=255&s;2===a?(s=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,u[l++]=255&s):1===a&&(s=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,u[l++]=s>>8&255,u[l++]=255&s);return u},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o="",a=[],u=0,c=r-i;u<c;u+=16383)a.push(s(t,u,u+16383>c?c:u+16383));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+="=");return a.push(o),a.join("")};var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array;function s(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16)+(t[a+1]<<8)+t[a+2],s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)n[e]=t[e],i[t.charCodeAt(e)]=e;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}()},{}],18:[function(t,e,r){(function(){var t,r,n,i,o,s,a,u,c,l,h,p,f=[].slice,d={}.hasOwnProperty;t=function(){var t,e,r,n,i,o;if(o=arguments[0],i=2<=arguments.length?f.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=i.length;t<r;t++)if(null!=(n=i[t]))for(e in n)d.call(n,e)&&(o[e]=n[e]);return o},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},a=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},i=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(i(t))return!t.length;for(e in t)if(d.call(t,e))return!1;return!0},u=function(t){var e,r;return a(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},p=function(t){return(t.split(/[-_\s]+|(?=[A-Z][a-z])/)||[]).filter(function(t){return!!t})},r=function(t){var e,r,i,o,s,a;for(o="",r=e=0,i=(s=p(t)).length;e<i;r=++e)a=s[r],o+=r?n(a.toLowerCase()):a.toLowerCase();return o},h=function(t){var e,r,i,o,s,a;for(o="",r=e=0,i=(s=p(t)).length;e<i;r=++e)a=s[r],o+=n(a.toLowerCase());return o},c=function(t){var e,r,n,i,o,s;for(i="",r=e=0,n=(o=p(t)).length;e<n;r=++e)s=o[r],i+=(r?"-":"")+s.toLowerCase();return i},l=function(t){var e,r,n,i,o,s;for(i="",r=e=0,n=(o=p(t)).length;e<n;r=++e)s=o[r],i+=(r?"_":"")+s.toLowerCase();return i},n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.exports.assign=t,e.exports.isFunction=s,e.exports.isObject=a,e.exports.isArray=i,e.exports.isEmpty=o,e.exports.isPlainObject=u,e.exports.camelCase=r,e.exports.titleCase=h,e.exports.kebabCase=c,e.exports.snakeCase=l,e.exports.capitalize=n,e.exports.words=p}).call(this)},{}],19:[function(t,e,r){(function(){e.exports=function(){function t(t,e,r){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==r)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},{}],20:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},e}()}).call(this)},{"./XMLNode":31}],21:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text");this.text=this.stringify.comment(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},e}()}).call(this)},{"./XMLNode":31}],22:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n,i,o,s){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(r),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=o}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},e}()}).call(this)},{"./XMLNode":31}],23:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(r),this.value=this.stringify.dtdElementValue(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},e}()}).call(this)},{"./XMLNode":31}],24:[function(t,e,r){(function(){var r,n,i={}.hasOwnProperty;n=t("./Utility").isObject,r=t("./XMLNode"),e.exports=function(t){function e(t,r,i,o){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!r,this.name=this.stringify.eleName(i),n(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},e}()}).call(this)},{"./Utility":18,"./XMLNode":31}],25:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(r),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},e}()}).call(this)},{"./XMLNode":31}],26:[function(t,e,r){(function(){var r,n,i={}.hasOwnProperty;n=t("./Utility").isObject,r=t("./XMLNode"),e.exports=function(t){function e(t,r,i,o){var s;e.__super__.constructor.call(this,t),n(r)&&(r=(s=r).version,i=s.encoding,o=s.standalone),r||(r="1.0"),this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},e}()}).call(this)},{"./Utility":18,"./XMLNode":31}],27:[function(t,e,r){(function(){var r,n,i,o,s,a,u={}.hasOwnProperty;a=t("./Utility").isObject,s=t("./XMLNode"),r=t("./XMLDTDAttList"),i=t("./XMLDTDEntity"),n=t("./XMLDTDElement"),o=t("./XMLDTDNotation"),e.exports=function(t){function e(t,r,n){var i,o;e.__super__.constructor.call(this,t),this.documentObject=t,a(r)&&(r=(i=r).pubID,n=i.sysID),null==n&&(n=(o=[r,n])[0],r=o[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,s),e.prototype.element=function(t,e){var r;return r=new n(this,t,e),this.children.push(r),this},e.prototype.attList=function(t,e,n,i,o){var s;return s=new r(this,t,e,n,i,o),this.children.push(s),this},e.prototype.entity=function(t,e){var r;return r=new i(this,!1,t,e),this.children.push(r),this},e.prototype.pEntity=function(t,e){var r;return r=new i(this,!0,t,e),this.children.push(r),this},e.prototype.notation=function(t,e){var r;return r=new o(this,t,e),this.children.push(r),this},e.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},e.prototype.ele=function(t,e){return this.element(t,e)},e.prototype.att=function(t,e,r,n,i){return this.attList(t,e,r,n,i)},e.prototype.ent=function(t,e){return this.entity(t,e)},e.prototype.pent=function(t,e){return this.pEntity(t,e)},e.prototype.not=function(t,e){return this.notation(t,e)},e.prototype.up=function(){return this.root()||this.documentObject},e}()}).call(this)},{"./Utility":18,"./XMLDTDAttList":22,"./XMLDTDElement":23,"./XMLDTDEntity":24,"./XMLDTDNotation":25,"./XMLNode":31}],28:[function(t,e,r){(function(){var r,n,i,o,s={}.hasOwnProperty;o=t("./Utility").isPlainObject,r=t("./XMLNode"),i=t("./XMLStringifier"),n=t("./XMLStringWriter"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new n),this.options=t,this.stringify=new i(t),this.isDocument=!0}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}()}).call(this)},{"./Utility":18,"./XMLNode":31,"./XMLStringWriter":35,"./XMLStringifier":36}],29:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y,m,g,v,w,b,E={}.hasOwnProperty;b=t("./Utility"),v=b.isObject,g=b.isFunction,w=b.isPlainObject,h=t("./XMLElement"),n=t("./XMLCData"),i=t("./XMLComment"),f=t("./XMLRaw"),m=t("./XMLText"),p=t("./XMLProcessingInstruction"),c=t("./XMLDeclaration"),l=t("./XMLDocType"),o=t("./XMLDTDAttList"),a=t("./XMLDTDEntity"),s=t("./XMLDTDElement"),u=t("./XMLDTDNotation"),r=t("./XMLAttribute"),y=t("./XMLStringifier"),d=t("./XMLStringWriter"),e.exports=function(){function t(t,e,r){var n;t||(t={}),t.writer?w(t.writer)&&(n=t.writer,t.writer=new d(n)):t.writer=new d(t),this.options=t,this.writer=t.writer,this.stringify=new y(t),this.onDataCallback=e||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),v(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new h(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,e,r){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(t,e,r)},t.prototype.attribute=function(t,e){var n,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),v(t))for(n in t)E.call(t,n)&&(i=t[n],this.attribute(n,i));else g(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new r(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new n(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new f(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(r=0,o=t.length;r<o;r++)n=t[r],this.instruction(n);else if(v(t))for(n in t)E.call(t,n)&&(i=t[n],this.instruction(n,i));else g(e)&&(e=e.apply()),s=new p(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new c(this,t,e,r),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new l(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new s(this,t,e),this.onData(this.writer.dtdElement(r,this.currentLevel+1)),this},t.prototype.attList=function(t,e,r,n,i){var s;return this.openCurrent(),s=new o(this,t,e,r,n,i),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new u(this,t,e),this.onData(this.writer.dtdNotation(r,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof h&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},{"./Utility":18,"./XMLAttribute":19,"./XMLCData":20,"./XMLComment":21,"./XMLDTDAttList":22,"./XMLDTDElement":23,"./XMLDTDEntity":24,"./XMLDTDNotation":25,"./XMLDeclaration":26,"./XMLDocType":27,"./XMLElement":30,"./XMLProcessingInstruction":32,"./XMLRaw":33,"./XMLStringWriter":35,"./XMLStringifier":36,"./XMLText":37}],30:[function(t,e,r){(function(){var r,n,i,o,s,a={}.hasOwnProperty;s=t("./Utility"),o=s.isObject,i=s.isFunction,n=t("./XMLNode"),r=t("./XMLAttribute"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name");this.name=this.stringify.eleName(r),this.attributes={},null!=n&&this.attribute(n),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],r.attributes[e]=t.clone());return r.children=[],this.children.forEach(function(t){var e;return(e=t.clone()).parent=r,r.children.push(e)}),r},e.prototype.attribute=function(t,e){var n,s;if(null!=t&&(t=t.valueOf()),o(t))for(n in t)a.call(t,n)&&(s=t[n],this.attribute(n,s));else i(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new r(this,t,e));return this},e.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attributes[e];else delete this.attributes[t];return this},e.prototype.toString=function(t){return this.options.writer.set(t).element(this)},e.prototype.att=function(t,e){return this.attribute(t,e)},e.prototype.a=function(t,e){return this.attribute(t,e)},e}()}).call(this)},{"./Utility":18,"./XMLAttribute":19,"./XMLNode":31}],31:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d={}.hasOwnProperty;f=t("./Utility"),p=f.isObject,h=f.isFunction,l=f.isEmpty,s=null,r=null,n=null,i=null,o=null,u=null,c=null,a=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=t("./XMLElement"),r=t("./XMLCData"),n=t("./XMLComment"),i=t("./XMLDeclaration"),o=t("./XMLDocType"),u=t("./XMLRaw"),c=t("./XMLText"),a=t("./XMLProcessingInstruction"))}return e.prototype.element=function(t,e,r){var n,i,o,s,a,u,c,f,y,m;if(u=null,null==e&&(e={}),e=e.valueOf(),p(e)||(r=(y=[e,r])[0],e=y[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,c=t.length;o<c;o++)i=t[o],u=this.element(i);else if(h(t))u=this.element(t.apply());else if(p(t)){for(a in t)if(d.call(t,a))if(m=t[a],h(m)&&(m=m.apply()),p(m)&&l(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(s=0,f=m.length;s<f;s++)i=m[s],(n={})[a]=i,u=this.element(n);else p(m)?(u=this.element(a)).element(m):u=this.element(a,m)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r);if(null==u)throw new Error("Could not create any elements with: "+t);return u},e.prototype.insertBefore=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},e.prototype.insertAfter=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},e.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},e.prototype.node=function(t,e,r){var n,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),p(e)||(r=(i=[e,r])[0],e=i[1]),n=new s(this,t,e),null!=r&&n.text(r),this.children.push(n),n},e.prototype.text=function(t){var e;return e=new c(this,t),this.children.push(e),this},e.prototype.cdata=function(t){var e;return e=new r(this,t),this.children.push(e),this},e.prototype.comment=function(t){var e;return e=new n(this,t),this.children.push(e),this},e.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.raw=function(t){var e;return e=new u(this,t),this.children.push(e),this},e.prototype.instruction=function(t,e){var r,n,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)r=t[o],this.instruction(r);else if(p(t))for(r in t)d.call(t,r)&&(n=t[r],this.instruction(r,n));else h(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},e.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.declaration=function(t,e,r){var n,o;return n=this.document(),o=new i(n,t,e,r),n.children[0]instanceof i?n.children[0]=o:n.children.unshift(o),n.root()||n},e.prototype.doctype=function(t,e){var r,n,i,s,a,u,c,l,h;for(r=this.document(),n=new o(r,t,e),i=s=0,u=(l=r.children).length;s<u;i=++s)if(l[i]instanceof o)return r.children[i]=n,n;for(i=a=0,c=(h=r.children).length;a<c;i=++a)if(h[i].isRoot)return r.children.splice(i,0,n),n;return r.children.push(n),n},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},e.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},e.prototype.end=function(t){return this.document().end(t)},e.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},e.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},e.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},e.prototype.ele=function(t,e,r){return this.element(t,e,r)},e.prototype.nod=function(t,e,r){return this.node(t,e,r)},e.prototype.txt=function(t){return this.text(t)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},e.prototype.dtd=function(t,e){return this.doctype(t,e)},e.prototype.e=function(t,e,r){return this.element(t,e,r)},e.prototype.n=function(t,e,r){return this.node(t,e,r)},e.prototype.t=function(t){return this.text(t)},e.prototype.d=function(t){return this.cdata(t)},e.prototype.c=function(t){return this.comment(t)},e.prototype.r=function(t){return this.raw(t)},e.prototype.i=function(t,e){return this.instruction(t,e)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(t){return this.importDocument(t)},e}()}).call(this)},{"./Utility":18,"./XMLCData":20,"./XMLComment":21,"./XMLDeclaration":26,"./XMLDocType":27,"./XMLElement":30,"./XMLProcessingInstruction":32,"./XMLRaw":33,"./XMLText":37}],32:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(r),n&&(this.value=this.stringify.insValue(n))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},e}()}).call(this)},{"./XMLNode":31}],33:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text");this.value=this.stringify.raw(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},e}()}).call(this)},{"./XMLNode":31}],34:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y={}.hasOwnProperty;u=t("./XMLDeclaration"),c=t("./XMLDocType"),r=t("./XMLCData"),n=t("./XMLComment"),l=t("./XMLElement"),p=t("./XMLRaw"),f=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),d=t("./XMLWriterBase"),e.exports=function(t){function e(t,r){this.stream=t,e.__super__.constructor.call(this,r)}return function(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,d),e.prototype.document=function(t){var e,r,i,o,s,a,l,p;for(r=0,o=(a=t.children).length;r<o;r++)(e=a[r]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,p=[],i=0,s=(l=t.children).length;i<s;i++)switch(e=l[i],!1){case!(e instanceof u):p.push(this.declaration(e));break;case!(e instanceof c):p.push(this.docType(e));break;case!(e instanceof n):p.push(this.comment(e));break;case!(e instanceof h):p.push(this.processingInstruction(e));break;default:p.push(this.element(e))}return p},e.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},e.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},e.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},e.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write("?>"),this.stream.write(this.endline(t))},e.prototype.docType=function(t,e){var u,c,l,p;if(e||(e=0),this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),c=0,l=(p=t.children).length;c<l;c++)switch(u=p[c],!1){case!(u instanceof i):this.dtdAttList(u,e+1);break;case!(u instanceof o):this.dtdElement(u,e+1);break;case!(u instanceof s):this.dtdEntity(u,e+1);break;case!(u instanceof a):this.dtdNotation(u,e+1);break;case!(u instanceof r):this.cdata(u,e+1);break;case!(u instanceof n):this.comment(u,e+1);break;case!(u instanceof h):this.processingInstruction(u,e+1);break;default:throw new Error("Unknown DTD node type: "+u.constructor.name)}this.stream.write("]")}return this.stream.write(">"),this.stream.write(this.endline(t))},e.prototype.element=function(t,e){var i,o,s,a,u,c,d,m;for(u in e||(e=0),m=this.space(e),this.stream.write(m+"<"+t.name),c=t.attributes)y.call(c,u)&&(i=c[u],this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write("/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),s=0,a=(d=t.children).length;s<a;s++)switch(o=d[s],!1){case!(o instanceof r):this.cdata(o,e+1);break;case!(o instanceof n):this.comment(o,e+1);break;case!(o instanceof l):this.element(o,e+1);break;case!(o instanceof p):this.raw(o,e+1);break;case!(o instanceof f):this.text(o,e+1);break;case!(o instanceof h):this.processingInstruction(o,e+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(m+"</"+t.name+">")}return this.stream.write(this.endline(t))},e.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write("?>"+this.endline(t))},e.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(">"+this.endline(t))},e.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.endline(t))},e.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(">"+this.endline(t))},e.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(">"+this.endline(t))},e.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},e}()}).call(this)},{"./XMLCData":20,"./XMLComment":21,"./XMLDTDAttList":22,"./XMLDTDElement":23,"./XMLDTDEntity":24,"./XMLDTDNotation":25,"./XMLDeclaration":26,"./XMLDocType":27,"./XMLElement":30,"./XMLProcessingInstruction":32,"./XMLRaw":33,"./XMLText":37,"./XMLWriterBase":38}],35:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y={}.hasOwnProperty;u=t("./XMLDeclaration"),c=t("./XMLDocType"),r=t("./XMLCData"),n=t("./XMLComment"),l=t("./XMLElement"),p=t("./XMLRaw"),f=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),d=t("./XMLWriterBase"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,d),e.prototype.document=function(t){var e,r,i,o,s;for(o="",r=0,i=(s=t.children).length;r<i;r++)e=s[r],o+=function(){switch(!1){case!(e instanceof u):return this.declaration(e);case!(e instanceof c):return this.docType(e);case!(e instanceof n):return this.comment(e);case!(e instanceof h):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},e.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},e.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},e.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},e.prototype.declaration=function(t,e){var r;return r=this.space(e),r+='<?xml version="'+t.version+'"',null!=t.encoding&&(r+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(r+=' standalone="'+t.standalone+'"'),r+="?>",r+=this.newline},e.prototype.docType=function(t,e){var u,c,l,p,f;if(e||(e=0),p=this.space(e),p+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?p+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(p+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(p+=" [",p+=this.newline,c=0,l=(f=t.children).length;c<l;c++)u=f[c],p+=function(){switch(!1){case!(u instanceof i):return this.dtdAttList(u,e+1);case!(u instanceof o):return this.dtdElement(u,e+1);case!(u instanceof s):return this.dtdEntity(u,e+1);case!(u instanceof a):return this.dtdNotation(u,e+1);case!(u instanceof r):return this.cdata(u,e+1);case!(u instanceof n):return this.comment(u,e+1);case!(u instanceof h):return this.processingInstruction(u,e+1);default:throw new Error("Unknown DTD node type: "+u.constructor.name)}}.call(this);p+="]"}return p+=">",p+=this.newline},e.prototype.element=function(t,e){var i,o,s,a,u,c,d,m,g;for(u in e||(e=0),c="",c+=(g=this.space(e))+"<"+t.name,d=t.attributes)y.call(d,u)&&(i=d[u],c+=this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?c+="></"+t.name+">"+this.newline:c+="/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)c+=">",c+=t.children[0].value,c+="</"+t.name+">"+this.newline;else{for(c+=">"+this.newline,s=0,a=(m=t.children).length;s<a;s++)o=m[s],c+=function(){switch(!1){case!(o instanceof r):return this.cdata(o,e+1);case!(o instanceof n):return this.comment(o,e+1);case!(o instanceof l):return this.element(o,e+1);case!(o instanceof p):return this.raw(o,e+1);case!(o instanceof f):return this.text(o,e+1);case!(o instanceof h):return this.processingInstruction(o,e+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);c+=g+"</"+t.name+">"+this.newline}return c},e.prototype.processingInstruction=function(t,e){var r;return r=this.space(e)+"<?"+t.target,t.value&&(r+=" "+t.value),r+="?>"+this.newline},e.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.dtdAttList=function(t,e){var r;return r=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(r+=" "+t.defaultValueType),t.defaultValue&&(r+=' "'+t.defaultValue+'"'),r+=">"+this.newline},e.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.newline},e.prototype.dtdEntity=function(t,e){var r;return r=this.space(e)+"<!ENTITY",t.pe&&(r+=" %"),r+=" "+t.name,t.value?r+=' "'+t.value+'"':(t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),t.nData&&(r+=" NDATA "+t.nData)),r+=">"+this.newline},e.prototype.dtdNotation=function(t,e){var r;return r=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?r+=' PUBLIC "'+t.pubID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=">"+this.newline},e.prototype.openNode=function(t,e){var r,n,i,o;if(e||(e=0),t instanceof l){for(n in i=this.space(e)+"<"+t.name,o=t.attributes)y.call(o,n)&&(r=o[n],i+=this.attribute(r));return i+=(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=(t.children?" [":">")+this.newline},e.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof l):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof c):return this.space(e)+"]>"+this.newline}},e}()}).call(this)},{"./XMLCData":20,"./XMLComment":21,"./XMLDTDAttList":22,"./XMLDTDElement":23,"./XMLDTDEntity":24,"./XMLDTDNotation":25,"./XMLDeclaration":26,"./XMLDocType":27,"./XMLElement":30,"./XMLProcessingInstruction":32,"./XMLRaw":33,"./XMLText":37,"./XMLWriterBase":38}],36:[function(t,e,r){(function(){var r,n,i,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty;i=t("./Utility"),r=i.camelCase,s=i.titleCase,n=i.kebabCase,o=i.snakeCase,e.exports=function(){function t(t){var e,r,n;for(e in this.assertLegalChar=a(this.assertLegalChar,this),t||(t={}),this.allowSurrogateChars=t.allowSurrogateChars,this.noDoubleEncoding=t.noDoubleEncoding,this.textCase=t.textCase,r=t.stringify||{})u.call(r,e)&&(n=r[e],this[e]=n)}return t.prototype.eleName=function(t){return t=""+t||"",t=this.applyCase(t),this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},t.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return t=""+t||"",this.applyCase(t)},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,r;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,r=t.match(e))throw new Error("Invalid character ("+r+") in string: "+t+" at index "+r.index);return t},t.prototype.applyCase=function(t){switch(this.textCase){case"camel":return r(t);case"title":return s(t);case"kebab":case"lower":return n(t);case"snake":return o(t);case"upper":return n(t).toUpperCase();default:return t}},t.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},{"./Utility":18}],37:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text");this.value=this.stringify.eleText(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).text(this)},e}()}).call(this)},{"./XMLNode":31}],38:[function(t,e,r){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var r,n,i,o,s,a,u;for(r in e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(n=e.allowEmpty)&&n,this.pretty?(this.indent=null!=(i=e.indent)?i:"  ",this.newline=null!=(o=e.newline)?o:"\n",this.offset=null!=(s=e.offset)?s:0):(this.indent="",this.newline="",this.offset=0),a=e.writer||{})t.call(a,r)&&(u=a[r],this[r]=u)}return e.prototype.set=function(e){var r,n,i;for(r in e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0):(this.indent="",this.newline="",this.offset=0),n=e.writer||{})t.call(n,r)&&(i=n[r],this[r]=i);return this},e.prototype.space=function(t){return this.pretty?new Array((t||0)+this.offset+1).join(this.indent):""},e}()}).call(this)},{}],39:[function(t,e,r){(function(){var r,n,i,o,s,a,u;u=t("./Utility"),s=u.assign,a=u.isFunction,r=t("./XMLDocument"),n=t("./XMLDocumentCB"),o=t("./XMLStringWriter"),i=t("./XMLStreamWriter"),e.exports.create=function(t,e,n,i){var o,a;if(null==t)throw new Error("Root element needs a name");return i=s({},e,n,i),a=(o=new r(i)).element(t),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),a},e.exports.begin=function(t,e,i){var o;return a(t)&&(e=(o=[t,e])[0],i=o[1],t={}),e?new n(t,e,i):new r(t)},e.exports.stringWriter=function(t){return new o(t)},e.exports.streamWriter=function(t,e){return new i(t,e)}}).call(this)},{"./Utility":18,"./XMLDocument":28,"./XMLDocumentCB":29,"./XMLStreamWriter":34,"./XMLStringWriter":35}],40:[function(t,e,r){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,t("_process"))},{_process:41}],41:[function(t,e,r){var n,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],h=!1,p=-1;function f(){h&&c&&(h=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!h){var t=u(f);h=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new y(t,e)),1!==l.length||h||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],42:[function(t,e,r){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":43}],43:[function(t,e,r){"use strict";var n=t("process-nextick-args"),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=h;var o=t("core-util-is");o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},{"./_stream_readable":45,"./_stream_writable":47,"core-util-is":8,inherits:11,"process-nextick-args":40}],44:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":46,"core-util-is":8,inherits:11}],45:[function(t,e,r){(function(r,n){"use strict";var i=t("process-nextick-args");e.exports=w;var o,s=t("isarray");w.ReadableState=v;t("events").EventEmitter;var a=function(t,e){return t.listeners(e).length},u=t("./internal/streams/stream"),c=t("safe-buffer").Buffer,l=n.Uint8Array||function(){};var h=t("core-util-is");h.inherits=t("inherits");var p=t("util"),f=void 0;f=p&&p.debuglog?p.debuglog("stream"):function(){};var d,y=t("./internal/streams/BufferList"),m=t("./internal/streams/destroy");h.inherits(w,u);var g=["error","close","destroy","pause","resume"];function v(e,r){o=o||t("./_stream_duplex"),e=e||{};var n=r instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=t("string_decoder/").StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||t("./_stream_duplex"),!(this instanceof w))return new w(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,_(t)}(t,s)):(i||(o=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof l||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):E(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?E(t,s,e,!1):D(t,s)):E(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function E(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&_(t)),D(t,e)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),w.prototype.destroy=m.destroy,w.prototype._undestroy=m.undestroy,w.prototype._destroy=function(t,e){this.push(null),e(t)},w.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),b(this,t,e,!1,r)},w.prototype.unshift=function(t){return b(this,t,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return d||(d=t("string_decoder/").StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var T=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),L(t)}function D(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(N,t,e))}function N(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function A(t){f("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function O(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}w.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):_(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&I(this),null;var n,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(r,e))),null===(n=t>0?P(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&I(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:w;function c(e,r){f("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),t.removeListener("close",g),t.removeListener("finish",v),t.removeListener("drain",h),t.removeListener("error",m),t.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",w),n.removeListener("data",y),p=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function l(){f("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",c);var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var p=!1;var d=!1;function y(e){f("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==O(o.pipes,t))&&!p&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(e){f("onerror",e),w(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",v),w()}function v(){f("onfinish"),t.removeListener("close",g),w()}function w(){f("unpipe"),n.unpipe(t)}return n.on("data",y),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",m),t.once("close",g),t.once("finish",v),t.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),t},w.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=O(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},w.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_(this):i.nextTick(A,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(C,t,e))}(this,t)),this},w.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(f("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=P}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":43,"./internal/streams/BufferList":48,"./internal/streams/destroy":49,"./internal/streams/stream":50,_process:41,"core-util-is":8,events:9,inherits:11,isarray:13,"process-nextick-args":40,"safe-buffer":56,"string_decoder/":51,util:5}],46:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_duplex"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},{"./_stream_duplex":43,"core-util-is":8,inherits:11}],47:[function(t,e,r){(function(r,n,i){"use strict";var o=t("process-nextick-args");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.exports=v;var a,u=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:o.nextTick;v.WritableState=g;var c=t("core-util-is");c.inherits=t("inherits");var l={deprecate:t("util-deprecate")},h=t("./internal/streams/stream"),p=t("safe-buffer").Buffer,f=n.Uint8Array||function(){};var d,y=t("./internal/streams/destroy");function m(){}function g(e,r){a=a||t("./_stream_duplex"),e=e||{};var n=r instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),_(t,e))}(t,r,n,e,i);else{var s=T(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||E(t,r),n?u(b,t,r,s,i):b(t,r,s,i)}}(r,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(e){if(a=a||t("./_stream_duplex"),!(d.call(v,this)||this instanceof a))return new v(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function w(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),_(t,e)}function E(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,w(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(w(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),_(t,e)})}function _(t,e){var r=T(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(v,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===v&&(t&&t._writableState instanceof g)}})):d=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,p.isBuffer(n)||n instanceof f);return a&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=m),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(n,s),i=!1),i}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else w(t,e,!1,a,n,i,o);return u}(this,i,a,t,e,r)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||E(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,_(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":43,"./internal/streams/destroy":49,"./internal/streams/stream":50,_process:41,"core-util-is":8,inherits:11,"process-nextick-args":40,"safe-buffer":56,timers:64,"util-deprecate":65}],48:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=t("util");e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,o=n.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=o,i=a,e.copy(r,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":56,util:5}],49:[function(t,e,r){"use strict";var n=t("process-nextick-args");function i(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":40}],50:[function(t,e,r){e.exports=t("events").EventEmitter},{events:9}],51:[function(t,e,r){arguments[4][6][0].apply(r,arguments)},{dup:6,"safe-buffer":56}],52:[function(t,e,r){e.exports=t("./readable").PassThrough},{"./readable":53}],53:[function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":43,"./lib/_stream_passthrough.js":44,"./lib/_stream_readable.js":45,"./lib/_stream_transform.js":46,"./lib/_stream_writable.js":47}],54:[function(t,e,r){e.exports=t("./readable").Transform},{"./readable":53}],55:[function(t,e,r){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":47}],56:[function(t,e,r){var n=t("buffer"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:7}],57:[function(t,e,r){(function(e){!function(r){r.parser=function(t,e){return new o(t,e)},r.SAXParser=o,r.SAXStream=a,r.createStream=function(t,e){return new a(t,e)},r.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,e){if(!(this instanceof o))return new o(t,e);!function(t){for(var e=0,r=i.length;e<r;e++)t[i[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=r.MAX_BUFFER_LENGTH,this.opt=e||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(p)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),N(this,"onready")}r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),o.prototype={end:function(){I(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return P(this,"Cannot write after close. Assign an onready handler.");if(null===t)return I(this);"object"==typeof t&&(t=t.toString());var e=0,n="";for(;n=U(t,e++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case S.BEGIN:if(this.state=S.BEGIN_WHITESPACE,"\ufeff"===n)continue;X(this,n);continue;case S.BEGIN_WHITESPACE:X(this,n);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=e-1;n&&"<"!==n&&"&"!==n;)(n=U(t,e++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,e-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(g(n)||this.sawRoot&&!this.closedRoot||M(this,"Text data outside of root node."),"&"===n?this.state=S.TEXT_ENTITY:this.textNode+=n):(this.state=S.OPEN_WAKA,this.startTagPosition=this.position);continue;case S.SCRIPT:"<"===n?this.state=S.SCRIPT_ENDING:this.script+=n;continue;case S.SCRIPT_ENDING:"/"===n?this.state=S.CLOSE_TAG:(this.script+="<"+n,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===n)this.state=S.SGML_DECL,this.sgmlDecl="";else if(g(n));else if(b(f,n))this.state=S.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=S.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=S.PROC_INST,this.procInstName=this.procInstBody="";else{if(M(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;n=new Array(s).join(" ")+n}this.textNode+="<"+n,this.state=S.TEXT}continue;case S.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===u?(A(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===c?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&M(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(A(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):v(n)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case S.SGML_DECL_QUOTED:n===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case S.DOCTYPE:">"===n?(this.state=S.TEXT,A(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=S.DOCTYPE_DTD:v(n)&&(this.state=S.DOCTYPE_QUOTED,this.q=n));continue;case S.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=S.DOCTYPE:v(n)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=n);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===n?this.state=S.COMMENT_ENDING:this.comment+=n;continue;case S.COMMENT_ENDING:"-"===n?(this.state=S.COMMENT_ENDED,this.comment=L(this.opt,this.comment),this.comment&&A(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==n?(M(this,"Malformed comment"),this.comment+="--"+n,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===n?this.state=S.CDATA_ENDING:this.cdata+=n;continue;case S.CDATA_ENDING:"]"===n?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===n?(this.cdata&&A(this,"oncdata",this.cdata),A(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=S.CDATA);continue;case S.PROC_INST:"?"===n?this.state=S.PROC_INST_ENDING:g(n)?this.state=S.PROC_INST_BODY:this.procInstName+=n;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&g(n))continue;"?"===n?this.state=S.PROC_INST_ENDING:this.procInstBody+=n;continue;case S.PROC_INST_ENDING:">"===n?(A(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+n,this.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:b(d,n)?this.tagName+=n:(O(this),">"===n?B(this):"/"===n?this.state=S.OPEN_TAG_SLASH:(g(n)||M(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===n?(B(this,!0),j(this)):(M(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(g(n))continue;">"===n?B(this):"/"===n?this.state=S.OPEN_TAG_SLASH:b(f,n)?(this.attribName=n,this.attribValue="",this.state=S.ATTRIB_NAME):M(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===n?this.state=S.ATTRIB_VALUE:">"===n?(M(this,"Attribute without value"),this.attribValue=this.attribName,R(this),B(this)):g(n)?this.state=S.ATTRIB_NAME_SAW_WHITE:b(d,n)?this.attribName+=n:M(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=S.ATTRIB_VALUE;else{if(g(n))continue;M(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",A(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?B(this):b(f,n)?(this.attribName=n,this.state=S.ATTRIB_NAME):(M(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(g(n))continue;v(n)?(this.q=n,this.state=S.ATTRIB_VALUE_QUOTED):(M(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case S.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}R(this),this.q="",this.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:g(n)?this.state=S.ATTRIB:">"===n?B(this):"/"===n?this.state=S.OPEN_TAG_SLASH:b(f,n)?(M(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=S.ATTRIB_NAME):M(this,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!w(n)){"&"===n?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}R(this),">"===n?B(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===n?j(this):b(d,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=S.SCRIPT):(g(n)||M(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(g(n))continue;E(f,n)?this.script?(this.script+="</"+n,this.state=S.SCRIPT):M(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case S.CLOSE_TAG_SAW_WHITE:if(g(n))continue;">"===n?j(this):M(this,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var a,l;switch(this.state){case S.TEXT_ENTITY:a=S.TEXT,l="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:a=S.ATTRIB_VALUE_QUOTED,l="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:a=S.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===n?(this[l]+=k(this),this.entity="",this.state=a):b(this.entity.length?m:y,n)?this.entity+=n:(M(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var e=Math.max(r.MAX_BUFFER_LENGTH,10),n=0,o=0,s=i.length;o<s;o++){var a=t[i[o]].length;if(a>e)switch(i[o]){case"textNode":C(t);break;case"cdata":A(t,"oncdata",t.cdata),t.cdata="";break;case"script":A(t,"onscript",t.script),t.script="";break;default:P(t,"Max buffer length exceeded: "+i[o])}n=Math.max(n,a)}var u=r.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=u+t.position}(this);return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;C(t=this),""!==t.cdata&&(A(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(A(t,"onscript",t.script),t.script="")}};try{n=t("stream").Stream}catch(t){n=function(){}}var s=r.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function a(t,e){if(!(this instanceof a))return new a(t,e);n.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,s.forEach(function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser["on"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})})}a.prototype=Object.create(n.prototype,{constructor:{value:a}}),a.prototype.write=function(r){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(r)){if(!this._decoder){var n=t("string_decoder").StringDecoder;this._decoder=new n("utf8")}r=this._decoder.write(r)}return this._parser.write(r.toString()),this.emit("data",r),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var r=this;return r._parser["on"+t]||-1===s.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),n.prototype.on.call(r,t,e)};var u="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:h},f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function v(t){return'"'===t||"'"===t}function w(t){return">"===t||g(t)}function b(t,e){return t.test(e)}function E(t,e){return!b(t,e)}var T,x,_,S=0;for(var D in r.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach(function(t){var e=r.ENTITIES[t],n="number"==typeof e?String.fromCharCode(e):e;r.ENTITIES[t]=n}),r.STATE)r.STATE[r.STATE[D]]=D;function N(t,e,r){t[e]&&t[e](r)}function A(t,e,r){t.textNode&&C(t),N(t,e,r)}function C(t){t.textNode=L(t.opt,t.textNode),t.textNode&&N(t,"ontext",t.textNode),t.textNode=""}function L(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function P(t,e){return C(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,N(t,"onerror",e),t}function I(t){return t.sawRoot&&!t.closedRoot&&M(t,"Unclosed root tag"),t.state!==S.BEGIN&&t.state!==S.BEGIN_WHITESPACE&&t.state!==S.TEXT&&P(t,"Unexpected end"),C(t),t.c="",t.closed=!0,N(t,"onend"),o.call(t,t.strict,t.opt),t}function M(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&P(t,e)}function O(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0,A(t,"onopentagstart",r)}function F(t,e){var r=t.indexOf(":")<0?["",t]:t.split(":"),n=r[0],i=r[1];return e&&"xmlns"===t&&(n="xmlns",i=""),{prefix:n,local:i}}function R(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=F(t.attribName,!0),r=e.prefix,n=e.local;if("xmlns"===r)if("xml"===n&&t.attribValue!==l)M(t,"xml: prefix must be bound to "+l+"\nActual: "+t.attribValue);else if("xmlns"===n&&t.attribValue!==h)M(t,"xmlns: prefix must be bound to "+h+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,A(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function B(t,e){if(t.opt.xmlns){var r=t.tag,n=F(t.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(M(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),r.uri=n.prefix);var i=t.tags[t.tags.length-1]||t;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(e){A(t,"onopennamespace",{prefix:e,uri:r.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],u=a[0],c=a[1],l=F(u,!0),h=l.prefix,p=l.local,f=""===h?"":r.ns[h]||"",d={name:u,value:c,prefix:h,local:p,uri:f};h&&"xmlns"!==h&&!f&&(M(t,"Unbound namespace prefix: "+JSON.stringify(h)),d.uri=h),t.tag.attributes[u]=d,A(t,"onattribute",d)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),A(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=S.TEXT:t.state=S.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function j(t){if(!t.tagName)return M(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=S.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=S.SCRIPT);A(t,"onscript",t.script),t.script=""}var e=t.tags.length,r=t.tagName;t.strict||(r=r[t.looseCase]());for(var n=r;e--;){if(t.tags[e].name===n)break;M(t,"Unexpected close tag")}if(e<0)return M(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=S.TEXT);t.tagName=r;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,A(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(e){var r=o.ns[e];A(t,"onclosenamespace",{prefix:e,uri:r})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=S.TEXT}function k(t){var e,r=t.entity,n=r.toLowerCase(),i="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(e=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(e=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==r?(M(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function X(t,e){"<"===e?(t.state=S.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(M(t,"Non-whitespace before first tag."),t.textNode=e,t.state=S.TEXT)}function U(t,e){var r="";return e<t.length&&(r=t.charAt(e)),r}S=r.STATE,String.fromCodePoint||(T=String.fromCharCode,x=Math.floor,_=function(){var t,e,r=[],n=-1,i=arguments.length;if(!i)return"";for(var o="";++n<i;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||x(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,r.push(t,e)),(n+1===i||r.length>16384)&&(o+=T.apply(null,r),r.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_)}(void 0===r?this.sax={}:r)}).call(this,t("buffer").Buffer)},{buffer:7,stream:59,string_decoder:6}],58:[function(t,e,r){(function(){var e,n,i,o;n=t("bplist-parser"),e=t("bplist-creator"),o=t("plist"),i=t("fs"),r.plist=o,r.bplistCreator=e,r.bplistParser=n,r.readFileSync=function(t){var e;return 0===(e=i.readFileSync(t)).length?{}:r.parse(e,t)},r.readFile=function(t,e){return i.readFile(t,function(n,i){var o;if(n)return e(n);try{return o=r.parse(i,t),e(null,o)}catch(t){return e(n=t)}})},r.writeFileSync=function(t,e,r){var n;return n=o.build(e),i.writeFileSync(t,n,r)},r.writeFile=function(t,e,r,n){var s;return 3===arguments.length&&"function"==typeof r&&(n=r,r=void 0),s=o.build(e),i.writeFile(t,s,r,n)},r.writeBinaryFileSync=function(t,r,n){var o;return o=e(r),i.writeFileSync(t,o,n)},r.writeBinaryFile=function(t,r,n,o){var s;return 3===arguments.length&&"function"==typeof n&&(o=n,n=void 0),s=e(r),i.writeFile(t,s,n,o)},r.stringify=function(t){return o.build(t)},r.parse=function(t,e){var r,i;r=t[0];try{if(60===r||"<"===r)i=o.parse(t.toString());else{if(98!==r)throw null!=e?new Error("Unable to determine format for '"+e+"'"):new Error("Unable to determine format for plist aStringOrBuffer");i=n.parseBuffer(t)[0]}}catch(t){throw t,new Error(e+" has errors")}return i}}).call(this)},{"bplist-creator":3,"bplist-parser":4,fs:"fs",plist:14}],59:[function(t,e,r){e.exports=i;var n=t("events").EventEmitter;function i(){n.call(this)}t("inherits")(i,n),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},{events:9,inherits:11,"readable-stream/duplex.js":42,"readable-stream/passthrough.js":52,"readable-stream/readable.js":53,"readable-stream/transform.js":54,"readable-stream/writable.js":55}],60:[function(t,e,r){e.exports={DEFAULT_INITIAL_SIZE:8192,DEFAULT_INCREMENT_AMOUNT:8192,DEFAULT_FREQUENCY:1,DEFAULT_CHUNK_SIZE:1024}},{}],61:[function(t,e,r){(function(r){var n=t("stream"),i=t("./constants"),o=t("util"),s=e.exports=function(t){var e=this;n.Stream.call(this);var o=(t=t||{}).hasOwnProperty("frequency")?t.frequency:i.DEFAULT_FREQUENCY,s=t.chunkSize||i.DEFAULT_CHUNK_SIZE,a=t.initialSize||i.DEFAULT_INITIAL_SIZE,u=t.incrementAmount||i.DEFAULT_INCREMENT_AMOUNT,c=0,l=new r(a),h=null;this.readable=!0,this.writable=!1;var p=function(){var t=Math.min(s,c);if(t>0){var n=null;h?n=l.toString(h,0,t):(n=new r(t),l.copy(n,0,0,t)),e.emit("data",n),t<l.length&&l.copy(l,0,t,c),c-=t}0!==c||e.readable||(e.emit("end"),e.emit("close"),p&&p.interval&&(clearInterval(p.interval),p.interval=null))};this.size=function(){return c},this.maxSize=function(){return l.length};var f=function(t){if(l.length-c<t){var e=Math.ceil((t-(l.length-c))/u),n=new r(l.length+u*e);l.copy(n,0,0,c),l=n}};this.put=function(t,n){if(e.readable){var i=0===c;if(r.isBuffer(t))f(t.length),t.copy(l,c,0),c+=t.length;else{t+="";var s=r.byteLength(t);f(s),l.write(t,c,n||"utf8"),c+=s}if(i&&c>0&&this.emit("readable"),!this.isPaused&&!o)for(;c>0;)p()}},this.pause=function(){this.isPaused=!0,p&&p.interval&&(clearInterval(p.interval),delete p.interval)},this.resume=function(){this.isPaused=!1,p&&!p.interval&&o>0&&(p.interval=setInterval(p,o))},this.destroy=function(){e.emit("end"),p.interval&&clearInterval(p.interval),p=null,e.readable=!1,e.emit("close")},this.destroySoon=function(){e.readable=!1,p.interval||(e.emit("end"),e.emit("close"))},this.setEncoding=function(t){h=t},this.resume()};o.inherits(s,n.Stream)}).call(this,t("buffer").Buffer)},{"./constants":60,buffer:7,stream:59,util:67}],62:[function(t,e,r){e.exports=t("./constants"),e.exports.ReadableStreamBuffer=t("./readable_streambuffer"),e.exports.WritableStreamBuffer=t("./writable_streambuffer")},{"./constants":60,"./readable_streambuffer":61,"./writable_streambuffer":63}],63:[function(t,e,r){(function(r){var n=t("util"),i=t("stream"),o=t("./constants"),s=e.exports=function(t){var e=this;i.Stream.call(this);var n=(t=t||{}).initialSize||o.DEFAULT_INITIAL_SIZE,s=t.incrementAmount||o.DEFAULT_INCREMENT_AMOUNT,a=new r(n),u=0;this.writable=!0,this.readable=!1,this.size=function(){return u},this.maxSize=function(){return a.length},this.getContents=function(t){if(!u)return!1;var e=new r(Math.min(t||u,u));return a.copy(e,0,0,e.length),e.length<u&&a.copy(a,0,e.length),u-=e.length,e},this.getContentsAsString=function(t,e){if(!u)return!1;var n=a.toString(t||"utf8",0,Math.min(e||u,u)),i=r.byteLength(n);return i<u&&a.copy(a,0,i),u-=i,n};var c=function(t){if(a.length-u<t){var e=Math.ceil((t-(a.length-u))/s),n=new r(a.length+s*e);a.copy(n,0,0,u),a=n}};this.write=function(t,n,i){e.writable&&(r.isBuffer(t)?(c(t.length),t.copy(a,u,0),u+=t.length):(t+="",c(r.byteLength(t)),a.write(t,u,n||"utf8"),u+=r.byteLength(t)),"function"==typeof i&&i())},this.end=function(){var t=Array.prototype.slice.apply(arguments);t.length&&e.write.apply(e,t),e.emit("finish"),e.destroy()},this.destroySoon=this.destroy=function(){e.writable=!1,e.emit("close")}};n.inherits(s,i.Stream)}).call(this,t("buffer").Buffer)},{"./constants":60,buffer:7,stream:59,util:67}],64:[function(t,e,r){(function(e,n){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function c(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r.setImmediate="function"==typeof e?e:function(t){var e=u++,n=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i(function(){a[e]&&(n?t.apply(null,n):t.call(null),r.clearImmediate(e))}),e},r.clearImmediate="function"==typeof n?n:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":41,timers:64}],65:[function(t,e,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],67:[function(t,e,r){(function(e,n){var i=/%[sdj%]/g;r.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<o;u=n[++r])y(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},r.deprecate=function(t,i){if(v(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,s={};function a(t,e){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(e)?n.showHidden=e:e&&r._extend(n,e),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function c(t,e){return t}function l(t,e,n){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return g(i)||(i=l(t,i,n)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,e);if(o)return o;var s=Object.keys(e),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),T(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(e);if(0===s.length){if(x(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(T(e))return h(e)}var c,b="",_=!1,S=["{","}"];(f(e)&&(_=!0,S=["[","]"]),x(e))&&(b=" [Function"+(e.name?": "+e.name:"")+"]");return w(e)&&(b=" "+RegExp.prototype.toString.call(e)),E(e)&&(b=" "+Date.prototype.toUTCString.call(e)),T(e)&&(b=" "+h(e)),0!==s.length||_&&0!=e.length?n<0?w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=_?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)N(e,String(s))?o.push(p(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,r,n,i,!0))}),o}(t,e,n,a,s):s.map(function(r){return p(t,e,n,a,r,_)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,b,S)):S[0]+b+S[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),N(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=y(r)?l(t,u.value,null):l(t,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function w(t){return b(t)&&"[object RegExp]"===_(t)}function b(t){return"object"==typeof t&&null!==t}function E(t){return b(t)&&"[object Date]"===_(t)}function T(t){return b(t)&&("[object Error]"===_(t)||t instanceof Error)}function x(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}r.debuglog=function(t){if(v(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=e.pid;s[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else s[t]=function(){};return s[t]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=f,r.isBoolean=d,r.isNull=y,r.isNullOrUndefined=function(t){return null==t},r.isNumber=m,r.isString=g,r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=v,r.isRegExp=w,r.isObject=b,r.isDate=E,r.isError=T,r.isFunction=x,r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),D[t.getMonth()],e].join(" ")),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!b(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":66,_process:41,inherits:11}],68:[function(t,e,r){var n=t("./v1"),i=t("./v4"),o=i;o.v1=n,o.v4=i,e.exports=o},{"./v1":71,"./v4":72}],69:[function(t,e,r){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(t,e){var r=e||0,i=n;return i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]}},{}],70:[function(t,e,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);r=function(){return n.getRandomValues(i),i}}if(!r){var o=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(t,e,r){var n=t("./lib/rng"),i=t("./lib/bytesToUuid"),o=n(),s=[1|o[0],o[1],o[2],o[3],o[4],o[5]],a=16383&(o[6]<<8|o[7]),u=0,c=0;e.exports=function(t,e,r){var n=e&&r||0,o=e||[],l=void 0!==(t=t||{}).clockseq?t.clockseq:a,h=void 0!==t.msecs?t.msecs:(new Date).getTime(),p=void 0!==t.nsecs?t.nsecs:c+1,f=h-u+(p-c)/1e4;if(f<0&&void 0===t.clockseq&&(l=l+1&16383),(f<0||h>u)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,c=p,a=l;var d=(1e4*(268435455&(h+=122192928e5))+p)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;var y=h/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=l>>>8|128,o[n++]=255&l;for(var m=t.node||s,g=0;g<6;++g)o[n+g]=m[g];return e||i(o)}},{"./lib/bytesToUuid":69,"./lib/rng":70}],72:[function(t,e,r){var n=t("./lib/rng"),i=t("./lib/bytesToUuid");e.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},{"./lib/bytesToUuid":69,"./lib/rng":70}],73:[function(t,e,r){r.project=t("./lib/pbxProject")},{"./lib/pbxProject":76}],74:[function(t,e,r){"use strict";function n(t,e,r,i){this.message=t,this.expected=e,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(n,Error),n.buildMessage=function(t,e){var r={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var e,n,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],r[i.type](i));if(o.sort(),o.length>0){for(e=1,n=1;e<o.length;e++)o[e-1]!==o[e]&&(o[n]=o[e],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},e.exports={SyntaxError:n,parse:function(t,e){e=void 0!==e?e:{};var r,i={},o={Project:Xt},s=Xt,a=function(t,e){var r=Object.create(null);return r.project=e,t&&(r.headComment=t),r},u="{",c=Mt("{",!1),l="}",h=Mt("}",!1),p=function(t){return t},f=function(){return Object.create(null)},d=function(t){for(var e=t[0][0],r=1;r<t.length;r++)e=ce(e,t[r][0]);return e},y="=",m=Mt("=",!1),g=";",v=Mt(";",!1),w=function(t,e){var r=Object.create(null);return r[t]=e,r},b=function(t,e){var r=Object.create(null),n=t.id+"_comment";return r[t.id]=e,r[n]=t[n],r},E=function(t,e){var r=Object.create(null);return r[t]=e.value,r[t+"_comment"]=e.comment,r},T=function(t,e){var r=Object.create(null);return r.id=t,r[t+"_comment"]=e.trim(),r},x=function(t,e){var r=Object.create(null);return r.comment=e.trim(),r.value=t.trim(),r},_=/^[^*]/,S=Ot(["*"],!0,!1),D=function(t){return t.join("")},N="/*",A=Mt("/*",!1),C="*/",L=Mt("*/",!1),P=function(t,e){var r=Object.create(null);return r[t.name]=e,r},I="/* Begin ",M=Mt("/* Begin ",!1),O=" section */",F=Mt(" section */",!1),R=function(t){return{name:t}},B="/* End ",j=Mt("/* End ",!1),k="(",X=Mt("(",!1),U=")",G=Mt(")",!1),V=function(t){return t},W=function(){return[]},q=function(t,e){return e?(e.unshift(t),e):[t]},z=function(t){return t},H=function(t,e){var r=Object.create(null);return r.value=t.trim(),r.comment=e.trim(),r},K=",",Y=Mt(",",!1),$=/^[A-Za-z0-9_.]/,Z=Ot([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),J=function(t){return t.join("")},Q=".",tt=Mt(".",!1),et=function(t){return t.join("")},rt=function(t){return parseInt(t.join(""),10)},nt=function(t){return'"'+t+'"'},it=function(t){return t.join("")},ot={type:"any"},st=function(t){return t},at="\\",ut=Mt("\\",!1),ct=function(){return'\\"'},lt=function(t){return t.join("")},ht=/^[^;,\n]/,pt=Ot([";",",","\n"],!0,!1),ft="//",dt=Mt("//",!1),yt=function(t){return t},mt=function(t){return t.join("")},gt=/^[0-9]/,vt=Ot([["0","9"]],!1,!1),wt=/^[A-Za-z]/,bt=Ot([["A","Z"],["a","z"]],!1,!1),Et='"',Tt=Mt('"',!1),xt=Ft("whitespace"),_t=/^[\t ]/,St=Ot(["\t"," "],!1,!1),Dt=/^[\n\r]/,Nt=Ot(["\n","\r"],!1,!1),At=0,Ct=[{line:1,column:1}],Lt=0,Pt=[],It=0;if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');s=o[e.startRule]}function Mt(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ot(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Ft(t){return{type:"other",description:t}}function Rt(e){var r,n=Ct[e];if(n)return n;for(r=e-1;!Ct[r];)r--;for(n={line:(n=Ct[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Ct[e]=n,n}function Bt(t,e){var r=Rt(t),n=Rt(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function jt(t){At<Lt||(At>Lt&&(Lt=At,Pt=[]),Pt.push(t))}function kt(t,e,r){return new n(n.buildMessage(t,e),t,e,r)}function Xt(){var e,r,n,o;return e=At,(r=function(){var e,r,n;return e=At,t.substr(At,2)===ft?(r=ft,At+=2):(r=i,0===It&&jt(dt)),r!==i&&oe()!==i&&(n=function(){var t,e;for(At,t=[],e=ae();e!==i;)t.push(e),e=ae();return t!==i&&(t=mt(t)),t}())!==i&&ue()!==i?(r=yt(n),e=r):(At=e,e=i),e}())===i&&(r=null),r!==i?((n=qt())===i&&(n=null),n!==i&&oe()!==i&&(o=Ut())!==i&&ue()!==i&&oe()!==i?e=r=a(r,o):(At=e,e=i)):(At=e,e=i),e}function Ut(){var e,r,n,o;return e=At,123===t.charCodeAt(At)?(r=u,At++):(r=i,0===It&&jt(c)),r!==i?((n=Vt())===i&&(n=Gt()),n!==i?(125===t.charCodeAt(At)?(o=l,At++):(o=i,0===It&&jt(h)),o!==i?e=r=p(n):(At=e,e=i)):(At=e,e=i)):(At=e,e=i),e}function Gt(){var t;return At,(t=oe())!==i&&(t=f()),t}function Vt(){var t,e,r,n,o;if(t=At,oe()!==i){if(e=[],r=At,(n=Wt())===i&&(n=Ht()),n!==i&&(o=oe())!==i?r=n=[n,o]:(At=r,r=i),r!==i)for(;r!==i;)e.push(r),r=At,(n=Wt())===i&&(n=Ht()),n!==i&&(o=oe())!==i?r=n=[n,o]:(At=r,r=i);else e=i;e!==i?t=d(e):(At=t,t=i)}else At=t,t=i;return t}function Wt(){var e;return(e=function(){var e,r,n,o,s;return e=At,(r=$t())!==i&&oe()!==i?(61===t.charCodeAt(At)?(n=y,At++):(n=i,0===It&&jt(m)),n!==i&&oe()!==i&&(o=Zt())!==i?(59===t.charCodeAt(At)?(s=g,At++):(s=i,0===It&&jt(v)),s!==i?(r=w(r,o),e=r):(At=e,e=i)):(At=e,e=i)):(At=e,e=i),e}())===i&&(e=function(){var e,r,n,o,s;return e=At,(r=function(){var t,e,r;return t=At,(e=$t())!==i&&oe()!==i&&(r=qt())!==i?(e=T(e,r),t=e):(At=t,t=i),t}())!==i&&oe()!==i?(61===t.charCodeAt(At)?(n=y,At++):(n=i,0===It&&jt(m)),n!==i&&oe()!==i&&(o=Zt())!==i?(59===t.charCodeAt(At)?(s=g,At++):(s=i,0===It&&jt(v)),s!==i?(r=b(r,o),e=r):(At=e,e=i)):(At=e,e=i)):(At=e,e=i),e===i&&(e=At,(r=$t())!==i&&oe()!==i?(61===t.charCodeAt(At)?(n=y,At++):(n=i,0===It&&jt(m)),n!==i&&oe()!==i&&(o=function(){var t,e,r;return t=At,(e=Zt())!==i&&oe()!==i&&(r=qt())!==i?(e=x(e,r),t=e):(At=t,t=i),t}())!==i?(59===t.charCodeAt(At)?(s=g,At++):(s=i,0===It&&jt(v)),s!==i?(r=E(r,o),e=r):(At=e,e=i)):(At=e,e=i)):(At=e,e=i)),e}()),e}function qt(){var e,r,n;if(e=At,zt()!==i){if(r=[],_.test(t.charAt(At))?(n=t.charAt(At),At++):(n=i,0===It&&jt(S)),n!==i)for(;n!==i;)r.push(n),_.test(t.charAt(At))?(n=t.charAt(At),At++):(n=i,0===It&&jt(S));else r=i;r!==i&&(n=function(){var e;return t.substr(At,2)===C?(e=C,At+=2):(e=i,0===It&&jt(L)),e}())!==i?e=D(r):(At=e,e=i)}else At=e,e=i;return e}function zt(){var e;return t.substr(At,2)===N?(e=N,At+=2):(e=i,0===It&&jt(A)),e}function Ht(){var e,r,n;return e=At,(r=function(){var e,r,n,o;return e=At,t.substr(At,9)===I?(r=I,At+=9):(r=i,0===It&&jt(M)),r!==i&&(n=$t())!==i?(t.substr(At,11)===O?(o=O,At+=11):(o=i,0===It&&jt(F)),o!==i&&ue()!==i?(r=R(n),e=r):(At=e,e=i)):(At=e,e=i),e}())!==i&&oe()!==i?((n=Vt())===i&&(n=Gt()),n!==i&&oe()!==i&&function(){var e,r,n,o;return e=At,t.substr(At,7)===B?(r=B,At+=7):(r=i,0===It&&jt(j)),r!==i&&(n=$t())!==i?(t.substr(At,11)===O?(o=O,At+=11):(o=i,0===It&&jt(F)),o!==i&&ue()!==i?(r=R(n),e=r):(At=e,e=i)):(At=e,e=i),e}()!==i?e=r=P(r,n):(At=e,e=i)):(At=e,e=i),e}function Kt(){var e,r,n,o;return e=At,40===t.charCodeAt(At)?(r=k,At++):(r=i,0===It&&jt(X)),r!==i?((n=function t(){var e,r,n,o;return e=At,(r=oe())!==i&&(n=function(){var t;return(t=function(){var t,e;return t=At,(e=Zt())!==i&&Yt()!==i?(e=z(e),t=e):(At=t,t=i),t}())===i&&(t=function(){var t,e,r;return t=At,(e=Zt())!==i&&oe()!==i&&(r=qt())!==i&&Yt()!==i?(e=H(e,r),t=e):(At=t,t=i),t}()),t}())!==i&&oe()!==i?((o=t())===i&&(o=null),o!==i&&oe()!==i?(r=q(n,o),e=r):(At=e,e=i)):(At=e,e=i),e}())===i&&(n=function(){var t;return At,(t=oe())!==i&&(t=W()),t}()),n!==i?(41===t.charCodeAt(At)?(o=U,At++):(o=i,0===It&&jt(G)),o!==i?e=r=V(n):(At=e,e=i)):(At=e,e=i)):(At=e,e=i),e}function Yt(){var e,r,n,o;return 44===t.charCodeAt(At)?(e=K,At++):(e=i,0===It&&jt(Y)),e===i&&(e=At,(r=oe())!==i?(n=At,It++,41===t.charCodeAt(At)?(o=U,At++):(o=i,0===It&&jt(G)),It--,o!==i?(At=n,n=void 0):n=i,n!==i?e=r=[r,n]:(At=e,e=i)):(At=e,e=i)),e}function $t(){var e,r,n;if(e=At,r=[],$.test(t.charAt(At))?(n=t.charAt(At),At++):(n=i,0===It&&jt(Z)),n!==i)for(;n!==i;)r.push(n),$.test(t.charAt(At))?(n=t.charAt(At),At++):(n=i,0===It&&jt(Z));else r=i;return r!==i&&(r=J(r)),(e=r)===i&&(e=Qt()),e}function Zt(){var e;return(e=Ut())===i&&(e=Kt())===i&&(e=function(){var e,r,n,o,s;return r=At,(n=Jt())!==i?(46===t.charCodeAt(At)?(o=Q,At++):(o=i,0===It&&jt(tt)),o!==i&&(s=Jt())!==i?r=n=[n,o,s]:(At=r,r=i)):(At=r,r=i),r!==i&&(r=et(r)),(e=r)===i&&(e=Jt()),e}())===i&&(e=function(){var t;return(t=Qt())===i&&(t=function(){var t,e;if(At,t=[],(e=ee())!==i)for(;e!==i;)t.push(e),e=ee();else t=i;return t!==i&&(t=lt(t)),t}()),t}()),e}function Jt(){var e,r,n,o,s;if(e=At,r=At,It++,n=function(){var e;return wt.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===It&&jt(bt)),e}(),It--,n===i?r=void 0:(At=r,r=i),r!==i){if(n=[],(o=ne())!==i)for(;o!==i;)n.push(o),o=ne();else n=i;n!==i?(o=At,It++,s=re(),It--,s===i?o=void 0:(At=o,o=i),o!==i?e=r=rt(n):(At=e,e=i)):(At=e,e=i)}else At=e,e=i;return e}function Qt(){var t,e;return t=At,ie()!==i&&(e=function(){var t,e;if(At,t=[],(e=te())!==i)for(;e!==i;)t.push(e),e=te();else t=i;return t!==i&&(t=it(t)),t}())!==i&&ie()!==i?t=nt(e):(At=t,t=i),t}function te(){var e,r,n;return(e=function(){var e,r;return e=At,92===t.charCodeAt(At)?(r=at,At++):(r=i,0===It&&jt(ut)),r!==i&&ie()!==i?(r=ct(),e=r):(At=e,e=i),e}())===i&&(e=At,r=At,It++,n=ie(),It--,n===i?r=void 0:(At=r,r=i),r!==i?(t.length>At?(n=t.charAt(At),At++):(n=i,0===It&&jt(ot)),n!==i?e=r=st(n):(At=e,e=i)):(At=e,e=i)),e}function ee(){var e,r,n,o;return e=At,r=At,It++,n=zt(),It--,n===i?r=void 0:(At=r,r=i),r!==i?(n=At,It++,o=function(){var e;return(e=ue())===i&&(59===t.charCodeAt(At)?(e=g,At++):(e=i,0===It&&jt(v))),e}(),It--,o===i?n=void 0:(At=n,n=i),n!==i&&(o=re())!==i?e=r=st(o):(At=e,e=i)):(At=e,e=i),e}function re(){var e;return ht.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===It&&jt(pt)),e}function ne(){var e;return gt.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===It&&jt(vt)),e}function ie(){var e;return 34===t.charCodeAt(At)?(e=Et,At++):(e=i,0===It&&jt(Tt)),e}function oe(){var t,e;for(It++,t=[],e=se();e!==i;)t.push(e),e=se();return It--,t===i&&(e=i,0===It&&jt(xt)),t}function se(){var e;return(e=ue())===i&&(_t.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===It&&jt(St))),e}function ae(){var e,r,n;return e=At,r=At,It++,n=ue(),It--,n===i?r=void 0:(At=r,r=i),r!==i&&(n=function(){var e;return t.length>At?(e=t.charAt(At),At++):(e=i,0===It&&jt(ot)),e}())!==i?e=r=st(n):(At=e,e=i),e}function ue(){var e;return Dt.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===It&&jt(Nt)),e}function ce(t,e){if(!t)return e;for(var r in e)t[r]=ce(t[r],e[r]);return t}if((r=s())!==i&&At===t.length)return r;throw r!==i&&At<t.length&&jt({type:"end"}),kt(Pt,Lt<t.length?t.charAt(Lt):null,Lt<t.length?Bt(Lt,Lt+1):Bt(Lt,Lt))}}},{}],75:[function(t,e,r){var n=t("path"),i=t("util"),o='"<group>"',s="BUILT_PRODUCTS_DIR",a="Resources",u="unknown",c={a:"archive.ar",app:"wrapper.application",appex:"wrapper.app-extension",bundle:"wrapper.plug-in",dylib:"compiled.mach-o.dylib",framework:"wrapper.framework",h:"sourcecode.c.h",m:"sourcecode.c.objc",markdown:"text",mdimporter:"wrapper.cfbundle",octest:"wrapper.cfbundle",pch:"sourcecode.c.h",plist:"text.plist.xml",sh:"text.script.sh",swift:"sourcecode.swift",tbd:"sourcecode.text-based-dylib-definition",xcassets:"folder.assetcatalog",xcconfig:"text.xcconfig",xcdatamodel:"wrapper.xcdatamodel",xcodeproj:"wrapper.pb-project",xctest:"wrapper.cfbundle",xib:"file.xib",strings:"text.plist.strings"},l={"archive.ar":"Frameworks","compiled.mach-o.dylib":"Frameworks","sourcecode.text-based-dylib-definition":"Frameworks","wrapper.framework":"Frameworks","embedded.framework":"Embed Frameworks","sourcecode.c.h":"Resources","sourcecode.c.objc":"Sources","sourcecode.swift":"Sources"},h={"compiled.mach-o.dylib":"usr/lib/","sourcecode.text-based-dylib-definition":"usr/lib/","wrapper.framework":"System/Library/Frameworks/"},p={"compiled.mach-o.dylib":"SDKROOT","sourcecode.text-based-dylib-definition":"SDKROOT","wrapper.framework":"SDKROOT"},f={"sourcecode.c.h":4,"sourcecode.c.h":4,"sourcecode.c.objc":4,"sourcecode.swift":4,text:4,"text.plist.xml":4,"text.script.sh":4,"text.xcconfig":4,"text.plist.strings":4};function d(t){return t.replace(/(^")|("$)/g,"")}e.exports=function(t,e){var r,y;e=e||{},this.basename=n.basename(t),this.lastKnownFileType=e.lastKnownFileType||(r=t,y=n.extname(r).substring(1),c[d(y)]||u),this.group=function(t,e){var r=n.extname(t.basename).substring(1),i=t.lastKnownFileType||t.explicitFileType,o=l[d(i)];return"xcdatamodeld"===r?"Sources":e.customFramework&&e.embed?l["embedded.framework"]:o||a}(this,e),1==e.customFramework&&(this.customFramework=!0,this.dirname=n.dirname(t).replace(/\\/g,"/")),this.path=function(t,e){var r=t.lastKnownFileType||t.explicitFileType,i=h[d(r)];return t.customFramework?e:i?n.join(i,n.basename(e)):e}(this,t).replace(/\\/g,"/"),this.fileEncoding=this.defaultEncoding=e.defaultEncoding||function(t){var e=t.lastKnownFileType||t.explicitFileType,r=f[d(e)];if(r)return r}(this),e.explicitFileType&&(this.explicitFileType=e.explicitFileType,this.basename=this.basename+"."+function(t){var e=t.lastKnownFileType||t.explicitFileType;for(var r in c)if(c.hasOwnProperty(d(r))&&c[d(r)]===e)return r}(this),delete this.path,delete this.lastKnownFileType,delete this.group,delete this.defaultEncoding),this.sourceTree=e.sourceTree||function(t){var e=t.lastKnownFileType||t.explicitFileType,r=p[d(e)];return t.explicitFileType?s:t.customFramework?o:r||o}(this),this.includeInIndex=0,e.weak&&!0===e.weak&&(this.settings={ATTRIBUTES:["Weak"]}),e.compilerFlags&&(this.settings||(this.settings={}),this.settings.COMPILER_FLAGS=i.format('"%s"',e.compilerFlags)),e.embed&&e.sign&&(this.settings||(this.settings={}),this.settings.ATTRIBUTES||(this.settings.ATTRIBUTES=[]),this.settings.ATTRIBUTES.push("CodeSignOnCopy"))}},{path:"path",util:67}],76:[function(t,e,r){(function(r){var n=t("util"),o=n.format,s=t("events").EventEmitter,a=t("path"),u=t("uuid"),c=t("child_process").fork,l=t("./pbxWriter"),h=t("./pbxFile"),p=t("fs"),f=t("./parser/pbxproj"),d=t("simple-plist"),y=/_comment$/;function m(t){if(!(this instanceof m))return new m(t);this.filepath=a.resolve(t)}function g(t){return{isa:"PBXFileReference",name:'"'+t.basename+'"',path:'"'+t.path.replace(/\\/g,"/")+'"',sourceTree:t.sourceTree,fileEncoding:t.fileEncoding,lastKnownFileType:t.lastKnownFileType,explicitFileType:t.explicitFileType,includeInIndex:t.includeInIndex}}function v(t){var e=Object.create(null);return e.value=t.fileRef,e.comment=t.basename,e}function w(t){var e=Object.create(null);return e.value=t.uuid,e.comment=b(t),e}function b(t){return o("%s in %s",t.basename,t.group)}function E(t,e){return x(t,e,"Plugins")}function T(t,e){return x(t,e,"Resources")}function x(t,e,r){var n=new RegExp("^"+r+"[\\\\/]");return e.pbxGroupByName(r).path&&(t.path=t.path.replace(n,"")),t}function _(t,e){var r=e.pbxGroupByName("Plugins"),n=r?r.path:null,i=a.dirname(t.path);return i="."==i?"":"/"+i,t.plugin&&n?'"\\"$(SRCROOT)/'+D(n)+'\\""':t.customFramework&&t.dirname?'"\\"'+t.dirname+'\\""':'"\\"$(SRCROOT)/'+e.productName+i+'\\""'}function S(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)y.test(e[n])||(r[e[n]]=t[e[n]]);return r}function D(t){if(t)return t.replace(/^"(.*)"$/,"$1")}function N(t){return PRODUCTTYPE_BY_TARGETTYPE={application:"com.apple.product-type.application",app_extension:"com.apple.product-type.app-extension",bundle:"com.apple.product-type.bundle",command_line_tool:"com.apple.product-type.tool",dynamic_library:"com.apple.product-type.library.dynamic",framework:"com.apple.product-type.framework",static_library:"com.apple.product-type.library.static",unit_test_bundle:"com.apple.product-type.bundle.unit-test",watch_app:"com.apple.product-type.application.watchapp",watch_extension:"com.apple.product-type.watchkit-extension"},PRODUCTTYPE_BY_TARGETTYPE[t]}n.inherits(m,s),m.prototype.parse=function(t){return c(r+"/parseJob.js",[this.filepath]).on("message",function(t){"SyntaxError"==t.name||t.code?this.emit("error",t):(this.hash=t,this.emit("end",null,t))}.bind(this)),t&&(this.on("error",t),this.on("end",t)),this},m.prototype.parseSync=function(){var t=p.readFileSync(this.filepath,"utf-8");return this.hash=f.parse(t),this},m.prototype.writeSync=function(){return this.writer=new l(this.hash),this.writer.writeSync()},m.prototype.allUuids=function(){var t,e=this.hash.project.objects,r=[];for(key in e)t=e[key],r=r.concat(Object.keys(t));return r=r.filter(function(t){return!y.test(t)&&24==t.length})},m.prototype.generateUuid=function(){var t=u.v4().replace(/-/g,"").substr(0,24).toUpperCase();return this.allUuids().indexOf(t)>=0?this.generateUuid():t},m.prototype.addPluginFile=function(t,e){var r=new h(t,e);return r.plugin=!0,E(r,this),this.hasFile(r.path)?null:(r.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(r),this.addToPluginsPbxGroup(r),r)},m.prototype.removePluginFile=function(t,e){var r=new h(t,e);return E(r,this),this.removeFromPbxFileReferenceSection(r),this.removeFromPluginsPbxGroup(r),r},m.prototype.addProductFile=function(t,e){var r=new h(t,e);return r.includeInIndex=0,r.fileRef=this.generateUuid(),r.target=e?e.target:void 0,r.group=e?e.group:void 0,r.uuid=this.generateUuid(),r.path=r.basename,this.addToPbxFileReferenceSection(r),this.addToProductsPbxGroup(r),r},m.prototype.removeProductFile=function(t,e){var r=new h(t,e);return this.removeFromProductsPbxGroup(r),r},m.prototype.addSourceFile=function(t,e,r){var n;return!!(n=r?this.addFile(t,r,e):this.addPluginFile(t,e))&&(n.target=e?e.target:void 0,n.uuid=this.generateUuid(),this.addToPbxBuildFileSection(n),this.addToPbxSourcesBuildPhase(n),n)},m.prototype.removeSourceFile=function(t,e,r){var n;return(n=r?this.removeFile(t,r,e):this.removePluginFile(t,e)).target=e?e.target:void 0,this.removeFromPbxBuildFileSection(n),this.removeFromPbxSourcesBuildPhase(n),n},m.prototype.addHeaderFile=function(t,e,r){return r?this.addFile(t,r,e):this.addPluginFile(t,e)},m.prototype.removeHeaderFile=function(t,e,r){return r?this.removeFile(t,r,e):this.removePluginFile(t,e)},m.prototype.addResourceFile=function(t,e,r){var n;if((e=e||{}).plugin){if(!(n=this.addPluginFile(t,e)))return!1}else if(n=new h(t,e),this.hasFile(n.path))return!1;return n.uuid=this.generateUuid(),n.target=e?e.target:void 0,e.plugin||(T(n,this),n.fileRef=this.generateUuid()),e.variantGroup||(this.addToPbxBuildFileSection(n),this.addToPbxResourcesBuildPhase(n)),e.plugin||(this.addToPbxFileReferenceSection(n),r?this.getPBXGroupByKey(r)?this.addToPbxGroup(n,r):this.getPBXVariantGroupByKey(r)&&this.addToPbxVariantGroup(n,r):this.addToResourcesPbxGroup(n)),n},m.prototype.removeResourceFile=function(t,e,r){var n=new h(t,e);return n.target=e?e.target:void 0,T(n,this),this.removeFromPbxBuildFileSection(n),this.removeFromPbxFileReferenceSection(n),r?this.getPBXGroupByKey(r)?this.removeFromPbxGroup(n,r):this.getPBXVariantGroupByKey(r)&&this.removeFromPbxVariantGroup(n,r):this.removeFromResourcesPbxGroup(n),this.removeFromPbxResourcesBuildPhase(n),n},m.prototype.addFramework=function(t,e){var r=e&&1==e.customFramework,n=!e||void 0==e.link||e.link,i=e&&e.embed;e&&delete e.embed;var o=new h(t,e);if(o.uuid=this.generateUuid(),o.fileRef=this.generateUuid(),o.target=e?e.target:void 0,this.hasFile(o.path))return!1;if(this.addToPbxBuildFileSection(o),this.addToPbxFileReferenceSection(o),this.addToFrameworksPbxGroup(o),n&&this.addToPbxFrameworksBuildPhase(o),r&&(this.addToFrameworkSearchPaths(o),i)){e.embed=i;var s=new h(t,e);return s.uuid=this.generateUuid(),s.fileRef=o.fileRef,this.addToPbxBuildFileSection(s),this.addToPbxEmbedFrameworksBuildPhase(s),s}return o},m.prototype.removeFramework=function(t,e){e&&e.embed;e&&delete e.embed;var r=new h(t,e);r.target=e?e.target:void 0,this.removeFromPbxBuildFileSection(r),this.removeFromPbxFileReferenceSection(r),this.removeFromFrameworksPbxGroup(r),this.removeFromPbxFrameworksBuildPhase(r),e&&e.customFramework&&this.removeFromFrameworkSearchPaths(r),(e=e||{}).embed=!0;var n=new h(t,e);return n.fileRef=r.fileRef,this.removeFromPbxBuildFileSection(n),this.removeFromPbxEmbedFrameworksBuildPhase(n),r},m.prototype.addCopyfile=function(t,e){var r=new h(t,e);return this.hasFile(r.path)&&(r=this.hasFile(r.path)),r.fileRef=r.uuid=this.generateUuid(),r.target=e?e.target:void 0,this.addToPbxBuildFileSection(r),this.addToPbxFileReferenceSection(r),this.addToPbxCopyfilesBuildPhase(r),r},m.prototype.pbxCopyfilesBuildPhaseObj=function(t){return this.buildPhaseObject("PBXCopyFilesBuildPhase","Copy Files",t)},m.prototype.addToPbxCopyfilesBuildPhase=function(t){this.buildPhaseObject("PBXCopyFilesBuildPhase","Copy Files",t.target).files.push(w(t))},m.prototype.removeCopyfile=function(t,e){var r=new h(t,e);return r.target=e?e.target:void 0,this.removeFromPbxBuildFileSection(r),this.removeFromPbxFileReferenceSection(r),this.removeFromPbxCopyfilesBuildPhase(r),r},m.prototype.removeFromPbxCopyfilesBuildPhase=function(t){var e=this.pbxCopyfilesBuildPhaseObj(t.target);for(i in e.files)if(e.files[i].comment==b(t)){e.files.splice(i,1);break}},m.prototype.addStaticLibrary=function(t,e){var r;if((e=e||{}).plugin){if(!(r=this.addPluginFile(t,e)))return!1}else if(r=new h(t,e),this.hasFile(r.path))return!1;return r.uuid=this.generateUuid(),r.target=e?e.target:void 0,e.plugin||(r.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(r)),this.addToPbxBuildFileSection(r),this.addToPbxFrameworksBuildPhase(r),this.addToLibrarySearchPaths(r),r},m.prototype.addToPbxBuildFileSection=function(t){var e=o("%s_comment",t.uuid);this.pbxBuildFileSection()[t.uuid]=function(t){var e=Object.create(null);e.isa="PBXBuildFile",e.fileRef=t.fileRef,e.fileRef_comment=t.basename,t.settings&&(e.settings=t.settings);return e}(t),this.pbxBuildFileSection()[e]=function(t){return b(t)}(t)},m.prototype.removeFromPbxBuildFileSection=function(t){var e;for(e in this.pbxBuildFileSection())this.pbxBuildFileSection()[e].fileRef_comment==t.basename&&(t.uuid=e,delete this.pbxBuildFileSection()[e]);var r=o("%s_comment",t.uuid);delete this.pbxBuildFileSection()[r]},m.prototype.addPbxGroup=function(t,e,r,n){var i=this.hash.project.objects.PBXGroup,s=this.generateUuid(),a=o("%s_comment",s),u={isa:"PBXGroup",children:[],name:e,path:r,sourceTree:n||'"<group>"'},c=this.pbxFileReferenceSection(),l={};for(var p in c)if(y.test(p)){var f=p.split(y)[0];l[c[f].path]={fileRef:f,basename:c[p]}}for(var d=0;d<t.length;d++){var m=t[d],g='"'+m+'"';if(l[m])u.children.push(v(l[m]));else if(l[g])u.children.push(v(l[g]));else{var w=new h(m);w.uuid=this.generateUuid(),w.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(w),this.addToPbxBuildFileSection(w),u.children.push(v(w))}}return i&&(i[s]=u,i[a]=e),{uuid:s,pbxGroup:u}},m.prototype.removePbxGroup=function(t){var e,r=this.hash.project.objects.PBXGroup;for(e in r)y.test(e)&&r[e]==t&&delete r[e.split(y)[0]]},m.prototype.addToPbxProjectSection=function(t){var e={value:t.uuid,comment:function(t){return t.name}(t.pbxNativeTarget)};this.pbxProjectSection()[this.getFirstProject().uuid].targets.push(e)},m.prototype.addToPbxNativeTargetSection=function(t){var e=o("%s_comment",t.uuid);this.pbxNativeTargetSection()[t.uuid]=t.pbxNativeTarget,this.pbxNativeTargetSection()[e]=t.pbxNativeTarget.name},m.prototype.addToPbxFileReferenceSection=function(t){var e=o("%s_comment",t.fileRef);this.pbxFileReferenceSection()[t.fileRef]=g(t),this.pbxFileReferenceSection()[e]=function(t){return t.basename||a.basename(t.path)}(t)},m.prototype.removeFromPbxFileReferenceSection=function(t){var e,r=g(t);for(e in this.pbxFileReferenceSection())if(this.pbxFileReferenceSection()[e].name==r.name||'"'+this.pbxFileReferenceSection()[e].name+'"'==r.name||this.pbxFileReferenceSection()[e].path==r.path||'"'+this.pbxFileReferenceSection()[e].path+'"'==r.path){t.fileRef=t.uuid=e,delete this.pbxFileReferenceSection()[e];break}var n=o("%s_comment",t.fileRef);return void 0!=this.pbxFileReferenceSection()[n]&&delete this.pbxFileReferenceSection()[n],t},m.prototype.addToXcVersionGroupSection=function(t){if(!t.models||!t.currentModel)throw new Error("Cannot create a XCVersionGroup section from not a data model document file");var e=o("%s_comment",t.fileRef);this.xcVersionGroupSection()[t.fileRef]||(this.xcVersionGroupSection()[t.fileRef]={isa:"XCVersionGroup",children:t.models.map(function(t){return t.fileRef}),currentVersion:t.currentModel.fileRef,name:a.basename(t.path),path:t.path,sourceTree:'"<group>"',versionGroupType:"wrapper.xcdatamodel"},this.xcVersionGroupSection()[e]=a.basename(t.path))},m.prototype.addToPluginsPbxGroup=function(t){var e=this.pbxGroupByName("Plugins");e?e.children.push(v(t)):this.addPbxGroup([t.path],"Plugins")},m.prototype.removeFromPluginsPbxGroup=function(t){if(!this.pbxGroupByName("Plugins"))return null;var e,r=this.pbxGroupByName("Plugins").children;for(e in r)if(v(t).value==r[e].value&&v(t).comment==r[e].comment){r.splice(e,1);break}},m.prototype.addToResourcesPbxGroup=function(t){var e=this.pbxGroupByName("Resources");e?e.children.push(v(t)):this.addPbxGroup([t.path],"Resources")},m.prototype.removeFromResourcesPbxGroup=function(t){if(!this.pbxGroupByName("Resources"))return null;var e,r=this.pbxGroupByName("Resources").children;for(e in r)if(v(t).value==r[e].value&&v(t).comment==r[e].comment){r.splice(e,1);break}},m.prototype.addToFrameworksPbxGroup=function(t){var e=this.pbxGroupByName("Frameworks");e?e.children.push(v(t)):this.addPbxGroup([t.path],"Frameworks")},m.prototype.removeFromFrameworksPbxGroup=function(t){if(!this.pbxGroupByName("Frameworks"))return null;var e=this.pbxGroupByName("Frameworks").children;for(i in e)if(v(t).value==e[i].value&&v(t).comment==e[i].comment){e.splice(i,1);break}},m.prototype.addToPbxEmbedFrameworksBuildPhase=function(t){var e=this.pbxEmbedFrameworksBuildPhaseObj(t.target);e&&e.files.push(w(t))},m.prototype.removeFromPbxEmbedFrameworksBuildPhase=function(t){var e=this.pbxEmbedFrameworksBuildPhaseObj(t.target);if(e){var r=[];for(i in e.files)e.files[i].comment!=b(t)&&r.push(e.files[i]);e.files=r}},m.prototype.addToProductsPbxGroup=function(t){var e=this.pbxGroupByName("Products");e?e.children.push(v(t)):this.addPbxGroup([t.path],"Products")},m.prototype.removeFromProductsPbxGroup=function(t){if(!this.pbxGroupByName("Products"))return null;var e,r=this.pbxGroupByName("Products").children;for(e in r)if(v(t).value==r[e].value&&v(t).comment==r[e].comment){r.splice(e,1);break}},m.prototype.addToPbxSourcesBuildPhase=function(t){this.pbxSourcesBuildPhaseObj(t.target).files.push(w(t))},m.prototype.removeFromPbxSourcesBuildPhase=function(t){var e,r=this.pbxSourcesBuildPhaseObj(t.target);for(e in r.files)if(r.files[e].comment==b(t)){r.files.splice(e,1);break}},m.prototype.addToPbxResourcesBuildPhase=function(t){this.pbxResourcesBuildPhaseObj(t.target).files.push(w(t))},m.prototype.removeFromPbxResourcesBuildPhase=function(t){var e,r=this.pbxResourcesBuildPhaseObj(t.target);for(e in r.files)if(r.files[e].comment==b(t)){r.files.splice(e,1);break}},m.prototype.addToPbxFrameworksBuildPhase=function(t){this.pbxFrameworksBuildPhaseObj(t.target).files.push(w(t))},m.prototype.removeFromPbxFrameworksBuildPhase=function(t){var e=this.pbxFrameworksBuildPhaseObj(t.target);for(i in e.files)if(e.files[i].comment==b(t)){e.files.splice(i,1);break}},m.prototype.addXCConfigurationList=function(t,e,r){for(var n=this.pbxXCBuildConfigurationSection(),i=this.pbxXCConfigurationList(),s=this.generateUuid(),a=o("%s_comment",s),u={isa:"XCConfigurationList",buildConfigurations:[],defaultConfigurationIsVisible:0,defaultConfigurationName:e},c=0;c<t.length;c++){var l=t[c],h=this.generateUuid(),p=o("%s_comment",h);n[h]=l,n[p]=l.name,u.buildConfigurations.push({value:h,comment:l.name})}return i&&(i[s]=u,i[a]=r),{uuid:s,xcConfigurationList:u}},m.prototype.addTargetDependency=function(t,e){if(t){var r=this.pbxNativeTargetSection();if(void 0===r[t])throw new Error("Invalid target: "+t);for(var n=0;n<e.length;n++){var i=e[n];if(void 0===r[i])throw new Error("Invalid target: "+i)}var s=this.hash.project.objects.PBXTargetDependency,a=this.hash.project.objects.PBXContainerItemProxy;for(n=0;n<e.length;n++){var u=e[n],c=o("%s_comment",u),l=this.generateUuid(),h=o("%s_comment",l),p=this.generateUuid(),f=o("%s_comment",p),d={isa:"PBXContainerItemProxy",containerPortal:this.hash.project.rootObject,containerPortal_comment:this.hash.project.rootObject_comment,proxyType:1,remoteGlobalIDString:u,remoteInfo:r[u].name},y={isa:"PBXTargetDependency",target:u,target_comment:r[c],targetProxy:p,targetProxy_comment:"PBXContainerItemProxy"};a&&s&&(a[p]=d,a[f]="PBXContainerItemProxy",s[l]=y,s[h]="PBXTargetDependency",r[t].dependencies.push({value:l,comment:"PBXTargetDependency"}))}return{uuid:t,target:r[t]}}},m.prototype.addBuildPhase=function(t,e,r,n,i,s){var a,u,c,l=this.pbxFileReferenceSection(),p=this.pbxBuildFileSection(),f=this.generateUuid(),d=n||this.getFirstTarget().uuid,m=o("%s_comment",f),g={isa:e,buildActionMask:2147483647,files:[],runOnlyForDeploymentPostprocessing:0},v={};for(var b in"PBXCopyFilesBuildPhase"===e?g=function(t,e,r,n){return t.name='"'+n+'"',t.dstPath=r||'""',t.dstSubfolderSpec={absolute_path:0,executables:6,frameworks:10,java_resources:15,plugins:13,products_directory:16,resources:7,shared_frameworks:11,shared_support:12,wrapper:1,xpc_services:0}[{application:"wrapper",app_extension:"plugins",bundle:"wrapper",command_line_tool:"wrapper",dynamic_library:"products_directory",framework:"shared_frameworks",frameworks:"frameworks",static_library:"products_directory",unit_test_bundle:"wrapper",watch_app:"wrapper",watch_extension:"plugins"}[e]],t}(g,i,s,r):"PBXShellScriptBuildPhase"===e&&(u=i,c=r,(a=g).name='"'+c+'"',a.inputPaths=u.inputPaths||[],a.outputPaths=u.outputPaths||[],a.shellPath=u.shellPath,a.shellScript='"'+u.shellScript.replace(/"/g,'\\"')+'"',g=a),this.hash.project.objects[e]||(this.hash.project.objects[e]=new Object),this.hash.project.objects[e][f]||(this.hash.project.objects[e][f]=g,this.hash.project.objects[e][m]=r),this.hash.project.objects.PBXNativeTarget[d].buildPhases&&this.hash.project.objects.PBXNativeTarget[d].buildPhases.push({value:f,comment:r}),p)if(y.test(b)){var E=b.split(y)[0],T=p[E];if(fileReference=l[T.fileRef],fileReference){var x=new h(fileReference.path);v[fileReference.path]={uuid:E,basename:x.basename,group:x.group}}}for(var _=0;_<t.length;_++){var S=t[_],D='"'+S+'"',N=new h(S);v[S]?g.files.push(w(v[S])):v[D]?g.files.push(w(v[D])):(N.uuid=this.generateUuid(),N.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(N),this.addToPbxBuildFileSection(N),g.files.push(w(N)))}return{uuid:f,buildPhase:g}},m.prototype.pbxProjectSection=function(){return this.hash.project.objects.PBXProject},m.prototype.pbxBuildFileSection=function(){return this.hash.project.objects.PBXBuildFile},m.prototype.pbxXCBuildConfigurationSection=function(){return this.hash.project.objects.XCBuildConfiguration},m.prototype.pbxFileReferenceSection=function(){return this.hash.project.objects.PBXFileReference},m.prototype.pbxNativeTargetSection=function(){return this.hash.project.objects.PBXNativeTarget},m.prototype.xcVersionGroupSection=function(){return"object"!=typeof this.hash.project.objects.XCVersionGroup&&(this.hash.project.objects.XCVersionGroup={}),this.hash.project.objects.XCVersionGroup},m.prototype.pbxXCConfigurationList=function(){return this.hash.project.objects.XCConfigurationList},m.prototype.pbxGroupByName=function(t){var e,r=this.hash.project.objects.PBXGroup;for(e in r)if(y.test(e)&&r[e]==t)return r[e.split(y)[0]];return null},m.prototype.pbxTargetByName=function(t){return this.pbxItemByComment(t,"PBXNativeTarget")},m.prototype.findTargetKey=function(t){var e=this.hash.project.objects.PBXNativeTarget;for(var r in e){if(!y.test(r))if(e[r].name===t)return r}return null},m.prototype.pbxItemByComment=function(t,e){var r,n=this.hash.project.objects[e];for(r in n)if(y.test(r)&&n[r]==t)return n[r.split(y)[0]];return null},m.prototype.pbxSourcesBuildPhaseObj=function(t){return this.buildPhaseObject("PBXSourcesBuildPhase","Sources",t)},m.prototype.pbxResourcesBuildPhaseObj=function(t){return this.buildPhaseObject("PBXResourcesBuildPhase","Resources",t)},m.prototype.pbxFrameworksBuildPhaseObj=function(t){return this.buildPhaseObject("PBXFrameworksBuildPhase","Frameworks",t)},m.prototype.pbxEmbedFrameworksBuildPhaseObj=function(t){return this.buildPhaseObject("PBXCopyFilesBuildPhase","Embed Frameworks",t)},m.prototype.buildPhase=function(t,e){if(e){var r=this.pbxNativeTargetSection();if(void 0===r[e])throw new Error("Invalid target: "+e);var n=r[e].buildPhases;for(var i in n){var o=n[i];if(o.comment==t)return o.value+"_comment"}}},m.prototype.buildPhaseObject=function(t,e,r){var n,i=this.hash.project.objects[t],o=this.buildPhase(e,r);for(n in i)if(y.test(n)&&(!o||o==n)&&i[n]==e)return i[n.split(y)[0]];return null},m.prototype.addBuildProperty=function(t,e,r){var n,i,o=S(this.pbxXCBuildConfigurationSection());for(n in o)i=o[n],r&&i.name!==r||(i.buildSettings[t]=e)},m.prototype.removeBuildProperty=function(t,e){var r,n,i=S(this.pbxXCBuildConfigurationSection());for(r in i)((n=i[r]).buildSettings[t]&&!e||n.name===e)&&delete n.buildSettings[t]},m.prototype.updateBuildProperty=function(t,e,r){var n=this.pbxXCBuildConfigurationSection();for(var i in n)if(!y.test(i)){var o=n[i];(r&&o.name===r||!r)&&(o.buildSettings[t]=e)}},m.prototype.updateProductName=function(t){this.updateBuildProperty("PRODUCT_NAME",'"'+t+'"')},m.prototype.removeFromFrameworkSearchPaths=function(t){var e,r,n,i=S(this.pbxXCBuildConfigurationSection()),o=_(t,this);for(e in i){if(D((r=i[e].buildSettings).PRODUCT_NAME)==this.productName)if((n=r.FRAMEWORK_SEARCH_PATHS)&&Array.isArray(n))n.filter(function(t){return t.indexOf(o)>-1}).forEach(function(t){var e=n.indexOf(t);n.splice(e,1)})}},m.prototype.addToFrameworkSearchPaths=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n)D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName&&(r.FRAMEWORK_SEARCH_PATHS&&'"$(inherited)"'!==r.FRAMEWORK_SEARCH_PATHS||(r.FRAMEWORK_SEARCH_PATHS=['"$(inherited)"']),r.FRAMEWORK_SEARCH_PATHS.push(_(t,this)))},m.prototype.removeFromLibrarySearchPaths=function(t){var e,r,n,i=S(this.pbxXCBuildConfigurationSection()),o=_(t,this);for(e in i){if(D((r=i[e].buildSettings).PRODUCT_NAME)==this.productName)if((n=r.LIBRARY_SEARCH_PATHS)&&Array.isArray(n))n.filter(function(t){return t.indexOf(o)>-1}).forEach(function(t){var e=n.indexOf(t);n.splice(e,1)})}},m.prototype.addToLibrarySearchPaths=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n)D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName&&(r.LIBRARY_SEARCH_PATHS&&'"$(inherited)"'!==r.LIBRARY_SEARCH_PATHS||(r.LIBRARY_SEARCH_PATHS=['"$(inherited)"']),"string"==typeof t?r.LIBRARY_SEARCH_PATHS.push(t):r.LIBRARY_SEARCH_PATHS.push(_(t,this)))},m.prototype.removeFromHeaderSearchPaths=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection()),i="HEADER_SEARCH_PATHS",o=_(t,this);for(e in n){if(D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName)if(r[i])r[i].filter(function(t){return t.indexOf(o)>-1}).forEach(function(t){var e=r[i].indexOf(t);r[i].splice(e,1)})}},m.prototype.addToHeaderSearchPaths=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n)D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName&&(r.HEADER_SEARCH_PATHS||(r.HEADER_SEARCH_PATHS=['"$(inherited)"']),"string"==typeof t?r.HEADER_SEARCH_PATHS.push(t):r.HEADER_SEARCH_PATHS.push(_(t,this)))},m.prototype.addToOtherLinkerFlags=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n)D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName&&(r.OTHER_LDFLAGS&&'"$(inherited)"'!==r.OTHER_LDFLAGS||(r.OTHER_LDFLAGS=['"$(inherited)"']),r.OTHER_LDFLAGS.push(t))},m.prototype.removeFromOtherLinkerFlags=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n){if(D((r=n[e].buildSettings).PRODUCT_NAME)==this.productName)if(r.OTHER_LDFLAGS)r.OTHER_LDFLAGS.filter(function(e){return e.indexOf(t)>-1}).forEach(function(t){var e=r.OTHER_LDFLAGS.indexOf(t);r.OTHER_LDFLAGS.splice(e,1)})}},m.prototype.addToBuildSettings=function(t,e){var r,n=S(this.pbxXCBuildConfigurationSection());for(r in n)n[r].buildSettings[t]=e},m.prototype.removeFromBuildSettings=function(t){var e,r,n=S(this.pbxXCBuildConfigurationSection());for(e in n)(r=n[e].buildSettings)[t]&&delete r[t]},m.prototype.__defineGetter__("productName",function(){var t,e,r=S(this.pbxXCBuildConfigurationSection());for(t in r)if(e=r[t].buildSettings.PRODUCT_NAME)return D(e)}),m.prototype.hasFile=function(t){var e,r,n=S(this.pbxFileReferenceSection());for(r in n)if((e=n[r]).path==t||e.path=='"'+t+'"')return e;return!1},m.prototype.addTarget=function(t,e,r){var n=this.generateUuid(),i=e,o=r||t,s=t.trim();if(!s)throw new Error("Target name missing.");if(!i)throw new Error("Target type missing.");if(!N(i))throw new Error("Target type invalid: "+i);var u=[{name:"Debug",isa:"XCBuildConfiguration",buildSettings:{GCC_PREPROCESSOR_DEFINITIONS:['"DEBUG=1"','"$(inherited)"'],INFOPLIST_FILE:'"'+a.join(o,o+'-Info.plist"'),LD_RUNPATH_SEARCH_PATHS:'"$(inherited) @executable_path/Frameworks @executable_path/../../Frameworks"',PRODUCT_NAME:'"'+s+'"',SKIP_INSTALL:"YES"}},{name:"Release",isa:"XCBuildConfiguration",buildSettings:{INFOPLIST_FILE:'"'+a.join(o,o+'-Info.plist"'),LD_RUNPATH_SEARCH_PATHS:'"$(inherited) @executable_path/Frameworks @executable_path/../../Frameworks"',PRODUCT_NAME:'"'+s+'"',SKIP_INSTALL:"YES"}}],c=this.addXCConfigurationList(u,"Release",'Build configuration list for PBXNativeTarget "'+s+'"'),l=s,h=function(t){return FILETYPE_BY_PRODUCTTYPE={"com.apple.product-type.application":'"wrapper.application"',"com.apple.product-type.app-extension":'"wrapper.app-extension"',"com.apple.product-type.bundle":'"wrapper.plug-in"',"com.apple.product-type.tool":'"compiled.mach-o.dylib"',"com.apple.product-type.library.dynamic":'"compiled.mach-o.dylib"',"com.apple.product-type.framework":'"wrapper.framework"',"com.apple.product-type.library.static":'"archive.ar"',"com.apple.product-type.bundle.unit-test":'"wrapper.cfbundle"',"com.apple.product-type.application.watchapp":'"wrapper.application"',"com.apple.product-type.watchkit-extension":'"wrapper.app-extension"'},FILETYPE_BY_PRODUCTTYPE[t]}(N(i)),p=this.addProductFile(l,{group:"Copy Files",target:n,explicitFileType:h});p.basename;this.addToPbxBuildFileSection(p);var f={uuid:n,pbxNativeTarget:{isa:"PBXNativeTarget",name:'"'+s+'"',productName:'"'+s+'"',productReference:p.fileRef,productType:'"'+N(i)+'"',buildConfigurationList:c.uuid,buildPhases:[],buildRules:[],dependencies:[]}};return this.addToPbxNativeTargetSection(f),"app_extension"===i&&(this.addBuildPhase([],"PBXCopyFilesBuildPhase","Copy Files",this.getFirstTarget().uuid,i),this.addToPbxCopyfilesBuildPhase(p)),this.addToPbxProjectSection(f),this.addTargetDependency(this.getFirstTarget().uuid,[f.uuid]),f},m.prototype.getFirstProject=function(){var t=this.pbxProjectSection(),e=Object.keys(t)[0];return{uuid:e,firstProject:t[e]}},m.prototype.getFirstTarget=function(){var t=this.getFirstProject().firstProject.targets[0].value;return{uuid:t,firstTarget:this.pbxNativeTargetSection()[t]}},m.prototype.addToPbxGroupType=function(t,e,r){var n=this.getPBXGroupByKeyAndType(e,r);if(n&&void 0!==n.children)if("string"==typeof t){var i={value:t};this.getPBXGroupByKey(t)?i.comment=this.getPBXGroupByKey(t).name:this.getPBXVariantGroupByKey(t)&&(i.comment=this.getPBXVariantGroupByKey(t).name),n.children.push(i)}else n.children.push(v(t))},m.prototype.addToPbxVariantGroup=function(t,e){this.addToPbxGroupType(t,e,"PBXVariantGroup")},m.prototype.addToPbxGroup=function(t,e){this.addToPbxGroupType(t,e,"PBXGroup")},m.prototype.pbxCreateGroupWithType=function(t,e,r){var n={isa:'"'+r+'"',children:[],name:t,sourceTree:'"<group>"'};e&&(n.path=e);var i=this.generateUuid(),o=i+"_comment",s=this.hash.project.objects[r];return s||(s=this.hash.project.objects[r]=new Object),s[o]=t,s[i]=n,i},m.prototype.pbxCreateVariantGroup=function(t){return this.pbxCreateGroupWithType(t,void 0,"PBXVariantGroup")},m.prototype.pbxCreateGroup=function(t,e){return this.pbxCreateGroupWithType(t,e,"PBXGroup")},m.prototype.removeFromPbxGroupAndType=function(t,e,r){var n=this.getPBXGroupByKeyAndType(e,r);if(n){var i,o=n.children;for(i in o)if(v(t).value==o[i].value&&v(t).comment==o[i].comment){o.splice(i,1);break}}},m.prototype.removeFromPbxGroup=function(t,e){this.removeFromPbxGroupAndType(t,e,"PBXGroup")},m.prototype.removeFromPbxVariantGroup=function(t,e){this.removeFromPbxGroupAndType(t,e,"PBXVariantGroup")},m.prototype.getPBXGroupByKeyAndType=function(t,e){return this.hash.project.objects[e][t]},m.prototype.getPBXGroupByKey=function(t){return this.hash.project.objects.PBXGroup[t]},m.prototype.getPBXVariantGroupByKey=function(t){return this.hash.project.objects.PBXVariantGroup[t]},m.prototype.findPBXGroupKeyAndType=function(t,e){var r,n=this.hash.project.objects[e];for(var i in n)if(!y.test(i)){var o=n[i];if(t&&t.path&&t.name){if(t.path===o.path&&t.name===o.name){r=i;break}}else if(t&&t.path){if(t.path===o.path){r=i;break}}else if(t&&t.name&&t.name===o.name){r=i;break}}return r},m.prototype.findPBXGroupKey=function(t){return this.findPBXGroupKeyAndType(t,"PBXGroup")},m.prototype.findPBXVariantGroupKey=function(t){return this.findPBXGroupKeyAndType(t,"PBXVariantGroup")},m.prototype.addLocalizationVariantGroup=function(t){var e=this.pbxCreateVariantGroup(t),r=this.findPBXGroupKey({name:"Resources"});this.addToPbxGroup(e,r);var n={uuid:this.generateUuid(),fileRef:e,basename:t};return this.addToPbxBuildFileSection(n),this.addToPbxResourcesBuildPhase(n),n},m.prototype.addKnownRegion=function(t){this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions||(this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions=[]),this.hasKnownRegion(t)||this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions.push(t)},m.prototype.removeKnownRegion=function(t){var e=this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions;if(e){for(var r=0;r<e.length;r++)if(e[r]===t){e.splice(r,1);break}this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions=e}},m.prototype.hasKnownRegion=function(t){var e=this.pbxProjectSection()[this.getFirstProject().uuid].knownRegions;if(e)for(var r in e)if(e[r]===t)return!0;return!1},m.prototype.getPBXObject=function(t){return this.hash.project.objects[t]},m.prototype.addFile=function(t,e,r){var n=new h(t,r);return this.hasFile(n.path)?null:(n.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(n),this.getPBXGroupByKey(e)?this.addToPbxGroup(n,e):this.getPBXVariantGroupByKey(e)&&this.addToPbxVariantGroup(n,e),n)},m.prototype.removeFile=function(t,e,r){var n=new h(t,r);return this.removeFromPbxFileReferenceSection(n),this.getPBXGroupByKey(e)?this.removeFromPbxGroup(n,e):this.getPBXVariantGroupByKey(e)&&this.removeFromPbxVariantGroup(n,e),n},m.prototype.getBuildProperty=function(t,e){var r,n=this.pbxXCBuildConfigurationSection();for(var i in n)if(!y.test(i)){var o=n[i];(e&&o.name===e||void 0===e)&&void 0!==o.buildSettings[t]&&(r=o.buildSettings[t])}return r},m.prototype.getBuildConfigByName=function(t){var e={},r=this.pbxXCBuildConfigurationSection();for(var n in r)if(!y.test(n)){var i=r[n];i.name===t&&(e[n]=i)}return e},m.prototype.addDataModelDocument=function(t,e,r){e||(e="Resources"),this.getPBXGroupByKey(e)||(e=this.findPBXGroupKey({name:e}));var n,i=new h(t,r);if(!i||this.hasFile(i.path))return null;if(i.fileRef=this.generateUuid(),this.addToPbxGroup(i,e),!i)return!1;i.target=r?r.target:void 0,i.uuid=this.generateUuid(),this.addToPbxBuildFileSection(i),this.addToPbxSourcesBuildPhase(i),i.models=[];var o=p.readdirSync(i.path);for(var s in o){var u=o[s],c=a.join(t,u);if(".xccurrentversion"!=u){var l=new h(c);l.fileRef=this.generateUuid(),this.addToPbxFileReferenceSection(l),i.models.push(l),n&&n===u&&(i.currentModel=l)}else n=d.readFileSync(c)._XCCurrentVersionName}return i.currentModel||(i.currentModel=i.models[0]),this.addToXcVersionGroupSection(i),i},m.prototype.addTargetAttribute=function(t,e,r){var n=this.getFirstProject().firstProject.attributes;void 0===n.TargetAttributes&&(n.TargetAttributes={}),r=r||this.getFirstTarget(),void 0===n.TargetAttributes[r.uuid]&&(n.TargetAttributes[r.uuid]={}),n.TargetAttributes[r.uuid][t]=e},m.prototype.removeTargetAttribute=function(t,e){var r=this.getFirstProject().firstProject.attributes;e=e||this.getFirstTarget(),r.TargetAttributes&&r.TargetAttributes[e.uuid]&&delete r.TargetAttributes[e.uuid][t]},e.exports=m}).call(this,"/node_modules/xcode/lib")},{"./parser/pbxproj":74,"./pbxFile":75,"./pbxWriter":77,child_process:"child_process",events:9,fs:"fs",path:"path","simple-plist":58,util:67,uuid:68}],77:[function(t,e,r){t("./pbxProject");var n=t("util"),i=n.format,o="\t",s=/_comment$/,a=t("events").EventEmitter;function u(t,e){var r=e[t+"_comment"];return r||null}function c(t){return t===Object(t)}function l(t){return Array.isArray(t)}function h(t){this.contents=t,this.sync=!1,this.indentLevel=0}n.inherits(h,a),h.prototype.write=function(t){var e=i.apply(null,arguments);this.sync&&(this.buffer+=i("%s%s",function t(e){return e<=0?"":o+t(e-1)}(this.indentLevel),e))},h.prototype.writeFlush=function(t){var e=this.indentLevel;this.indentLevel=0,this.write.apply(this,arguments),this.indentLevel=e},h.prototype.writeSync=function(){return this.sync=!0,this.buffer="",this.writeHeadComment(),this.writeProject(),this.buffer},h.prototype.writeHeadComment=function(){this.contents.headComment&&this.write("// %s\n",this.contents.headComment)},h.prototype.writeProject=function(){var t,e,r,n=this.contents.project;if(this.write("{\n"),n){for(t in this.indentLevel++,n)s.test(t)||(e=u(t,n),l(r=n[t])?this.writeArray(r,t):c(r)?(this.write("%s = {\n",t),this.indentLevel++,"objects"===t?this.writeObjectsSections(r):this.writeObject(r),this.indentLevel--,this.write("};\n")):e?this.write("%s = %s /* %s */;\n",t,r,e):this.write("%s = %s;\n",t,r));this.indentLevel--}this.write("}\n")},h.prototype.writeObject=function(t){var e,r,n;for(e in t)s.test(e)||(n=u(e,t),l(r=t[e])?this.writeArray(r,e):c(r)?(this.write("%s = {\n",e),this.indentLevel++,this.writeObject(r),this.indentLevel--,this.write("};\n")):n?this.write("%s = %s /* %s */;\n",e,r,n):this.write("%s = %s;\n",e,r))},h.prototype.writeObjectsSections=function(t){var e,r,n=!0;for(e in t)n?n=!1:this.writeFlush("\n"),c(r=t[e])&&(this.writeSectionComment(e,!0),this.writeSection(r),this.writeSectionComment(e,!1))},h.prototype.writeArray=function(t,e){var r,n;for(this.write("%s = (\n",e),this.indentLevel++,r=0;r<t.length;r++)(n=t[r]).value&&n.comment?this.write("%s /* %s */,\n",n.value,n.comment):c(n)?(this.write("{\n"),this.indentLevel++,this.writeObject(n),this.indentLevel--,this.write("},\n")):this.write("%s,\n",n);this.indentLevel--,this.write(");\n")},h.prototype.writeSectionComment=function(t,e){e?this.writeFlush("/* Begin %s section */\n",t):this.writeFlush("/* End %s section */\n",t)},h.prototype.writeSection=function(t){var e,r,n;for(e in t)s.test(e)||(n=u(e,t),"PBXBuildFile"==(r=t[e]).isa||"PBXFileReference"==r.isa?this.writeInlineObject(e,n,r):(n?this.write("%s /* %s */ = {\n",e,n):this.write("%s = {\n",e),this.indentLevel++,this.writeObject(r),this.indentLevel--,this.write("};\n")))},h.prototype.writeInlineObject=function(t,e,r){var n=[],o=function(t,e,r){var a,h,p;for(a in e?n.push(i("%s /* %s */ = {",t,e)):n.push(i("%s = {",t)),r)if(!s.test(a))if(h=u(a,r),l(p=r[a])){n.push(i("%s = (",a));for(var f=0;f<p.length;f++)n.push(i("%s, ",p[f]));n.push("); ")}else c(p)?o(a,h,p):h?n.push(i("%s = %s /* %s */; ",a,p,h)):n.push(i("%s = %s; ",a,p));n.push("}; ")};o(t,e,r),this.write("%s\n",n.join("").trim())},e.exports=h},{"./pbxProject":76,events:9,util:67}],78:[function(t,e,r){(function(){"use strict";r.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{}],79:[function(t,e,r){(function(){"use strict";var e,n,i,o,s,a={}.hasOwnProperty;e=t("xmlbuilder"),n=t("./defaults").defaults,o=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+i(t)+"]]>"},i=function(t){return t.replace("]]>","]]]]><![CDATA[>")},r.Builder=function(){function t(t){var e,r,i;for(e in this.options={},r=n[.2])a.call(r,e)&&(i=r[e],this.options[e]=i);for(e in t)a.call(t,e)&&(i=t[e],this.options[e]=i)}return t.prototype.buildObject=function(t){var r,i,u,c,l,h;return r=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n[.2].rootName?t=t[l=Object.keys(t)[0]]:l=this.options.rootName,h=this,u=function(t,e){var n,c,l,p,f,d;if("object"!=typeof e)h.options.cdata&&o(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(p in e)if(a.call(e,p))for(f in c=e[p])l=c[f],t=u(t.ele(f),l).up()}else for(f in e)if(a.call(e,f))if(c=e[f],f===r){if("object"==typeof c)for(n in c)d=c[n],t=t.att(n,d)}else if(f===i)t=h.options.cdata&&o(c)?t.raw(s(c)):t.txt(c);else if(Array.isArray(c))for(p in c)a.call(c,p)&&(t="string"==typeof(l=c[p])?h.options.cdata&&o(l)?t.ele(f).raw(s(l)).up():t.ele(f,l).up():u(t.ele(f),l).up());else"object"==typeof c?t=u(t.ele(f),c).up():"string"==typeof c&&h.options.cdata&&o(c)?t=t.ele(f).raw(s(c)).up():(null==c&&(c=""),t=t.ele(f,c.toString()).up());return t},c=e.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(c,t).end(this.options.renderOpts)},t}()}).call(this)},{"./defaults":80,xmlbuilder:105}],80:[function(t,e,r){(function(){r.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],81:[function(t,e,r){(function(){"use strict";var e,n,i,o,s,a,u,c,l=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty;u=t("sax"),i=t("events"),e=t("./bom"),a=t("./processors"),c=t("timers").setImmediate,n=t("./defaults").defaults,o=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},s=function(t,e,r){var n,i;for(n=0,i=t.length;n<i;n++)e=(0,t[n])(e,r);return e},r.Parser=function(t){function p(t){var e,i,o;if(this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof r.Parser))return new r.Parser(t);for(e in this.options={},i=n[.2])h.call(i,e)&&(o=i[e],this.options[e]=o);for(e in t)h.call(t,e)&&(o=t[e],this.options[e]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(p,i.EventEmitter),p.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),c(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},p.prototype.assignOrPush=function(t,e,r){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(r)):this.options.explicitArray?t[e]=[r]:t[e]=r},p.prototype.reset=function(){var t,e,r,n,i;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(t){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(r){return function(i){var o,a,u,c,l;if((u={})[e]="",!r.options.ignoreAttrs)for(o in l=i.attributes)h.call(l,o)&&(t in u||r.options.mergeAttrs||(u[t]={}),a=r.options.attrValueProcessors?s(r.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],c=r.options.attrNameProcessors?s(r.options.attrNameProcessors,o):o,r.options.mergeAttrs?r.assignOrPush(u,c,a):u[t][c]=a);return u["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,i.name):i.name,r.options.xmlns&&(u[r.options.xmlnskey]={uri:i.uri,local:i.local}),n.push(u)}}(this),this.saxParser.onclosetag=function(t){return function(){var r,i,a,u,c,l,p,f,d,y;if(l=n.pop(),c=l["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(r=l.cdata,delete l.cdata),d=n[n.length-1],l[e].match(/^\s*$/)&&!r?(i=l[e],delete l[e]):(t.options.trim&&(l[e]=l[e].trim()),t.options.normalize&&(l[e]=l[e].replace(/\s{2,}/g," ").trim()),l[e]=t.options.valueProcessors?s(t.options.valueProcessors,l[e],c):l[e],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])),o(l)&&(l=""!==t.options.emptyTag?t.options.emptyTag:i),null!=t.options.validator&&(y="/"+function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)u=n[t],r.push(u["#name"]);return r}().concat(c).join("/"),function(){var e;try{l=t.options.validator(y,d&&d[c],l)}catch(r){return e=r,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof l)if(t.options.preserveChildrenOrder){if(d){for(a in d[t.options.childkey]=d[t.options.childkey]||[],p={},l)h.call(l,a)&&(p[a]=l[a]);d[t.options.childkey].push(p),delete l["#name"],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])}}else u={},t.options.attrkey in l&&(u[t.options.attrkey]=l[t.options.attrkey],delete l[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in l&&(u[t.options.charkey]=l[t.options.charkey],delete l[t.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(u[t.options.childkey]=l),l=u;return n.length>0?t.assignOrPush(d,c,l):(t.options.explicitRoot&&(f=l,(l={})[c]=f),t.resultObject=l,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),r=function(t){return function(r){var i,o;if(o=n[n.length-1])return o[e]+=r,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=r,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},p.prototype.parseString=function(t,r){var n;null!=r&&"function"==typeof r&&(this.on("end",function(t){return this.reset(),r(null,t)}),this.on("error",function(t){return this.reset(),r(t)}));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,c(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},p}(),r.parseString=function(t,e,n){var i,o;return null!=n?("function"==typeof n&&(i=n),"object"==typeof e&&(o=e)):("function"==typeof e&&(i=e),o={}),new r.Parser(o).parseString(t,i)}}).call(this)},{"./bom":78,"./defaults":80,"./processors":82,events:9,sax:57,timers:64}],82:[function(t,e,r){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),r.normalize=function(t){return t.toLowerCase()},r.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},r.stripPrefix=function(e){return e.replace(t,"")},r.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},r.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},{}],83:[function(t,e,r){(function(){"use strict";var e,n,i,o,s={}.hasOwnProperty;n=t("./defaults"),e=t("./builder"),i=t("./parser"),o=t("./processors"),r.defaults=n.defaults,r.processors=o,r.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),r.Builder=e.Builder,r.Parser=i.Parser,r.parseString=i.parseString}).call(this)},{"./builder":79,"./defaults":80,"./parser":81,"./processors":82}],84:[function(t,e,r){(function(){var t,r,n,i,o,s,a=[].slice,u={}.hasOwnProperty;t=function(){var t,e,r,n,o,s;if(s=arguments[0],o=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=o.length;t<r;t++)if(null!=(n=o[t]))for(e in n)u.call(n,e)&&(s[e]=n[e]);return s},i=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},o=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return i(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},n=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},s=function(t){var e,r;return o(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},e.exports.assign=t,e.exports.isFunction=i,e.exports.isObject=o,e.exports.isArray=r,e.exports.isEmpty=n,e.exports.isPlainObject=s}).call(this)},{}],85:[function(t,e,r){(function(){e.exports=function(){function t(t,e,r){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==r)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},{}],86:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},e}()}).call(this)},{"./XMLNode":97}],87:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text");this.text=this.stringify.comment(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},e}()}).call(this)},{"./XMLNode":97}],88:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n,i,o,s){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(r),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=o}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},e}()}).call(this)},{"./XMLNode":97}],89:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(r),this.value=this.stringify.dtdElementValue(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},e}()}).call(this)},{"./XMLNode":97}],90:[function(t,e,r){(function(){var r,n,i={}.hasOwnProperty;n=t("./Utility").isObject,r=t("./XMLNode"),e.exports=function(t){function e(t,r,i,o){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!r,this.name=this.stringify.eleName(i),n(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},e}()}).call(this)},{"./Utility":84,"./XMLNode":97}],91:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(r),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},e}()}).call(this)},{"./XMLNode":97}],92:[function(t,e,r){(function(){var r,n,i={}.hasOwnProperty;n=t("./Utility").isObject,r=t("./XMLNode"),e.exports=function(t){function e(t,r,i,o){var s;e.__super__.constructor.call(this,t),n(r)&&(r=(s=r).version,i=s.encoding,o=s.standalone),r||(r="1.0"),this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},e}()}).call(this)},{"./Utility":84,"./XMLNode":97}],93:[function(t,e,r){(function(){var r,n,i,o,s,a,u={}.hasOwnProperty;a=t("./Utility").isObject,s=t("./XMLNode"),r=t("./XMLDTDAttList"),i=t("./XMLDTDEntity"),n=t("./XMLDTDElement"),o=t("./XMLDTDNotation"),e.exports=function(t){function e(t,r,n){var i,o;e.__super__.constructor.call(this,t),this.documentObject=t,a(r)&&(r=(i=r).pubID,n=i.sysID),null==n&&(n=(o=[r,n])[0],r=o[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,s),e.prototype.element=function(t,e){var r;return r=new n(this,t,e),this.children.push(r),this},e.prototype.attList=function(t,e,n,i,o){var s;return s=new r(this,t,e,n,i,o),this.children.push(s),this},e.prototype.entity=function(t,e){var r;return r=new i(this,!1,t,e),this.children.push(r),this},e.prototype.pEntity=function(t,e){var r;return r=new i(this,!0,t,e),this.children.push(r),this},e.prototype.notation=function(t,e){var r;return r=new o(this,t,e),this.children.push(r),this},e.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},e.prototype.ele=function(t,e){return this.element(t,e)},e.prototype.att=function(t,e,r,n,i){return this.attList(t,e,r,n,i)},e.prototype.ent=function(t,e){return this.entity(t,e)},e.prototype.pent=function(t,e){return this.pEntity(t,e)},e.prototype.not=function(t,e){return this.notation(t,e)},e.prototype.up=function(){return this.root()||this.documentObject},e}()}).call(this)},{"./Utility":84,"./XMLDTDAttList":88,"./XMLDTDElement":89,"./XMLDTDEntity":90,"./XMLDTDNotation":91,"./XMLNode":97}],94:[function(t,e,r){(function(){var r,n,i,o,s={}.hasOwnProperty;o=t("./Utility").isPlainObject,r=t("./XMLNode"),i=t("./XMLStringifier"),n=t("./XMLStringWriter"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new n),this.options=t,this.stringify=new i(t),this.isDocument=!0}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}()}).call(this)},{"./Utility":84,"./XMLNode":97,"./XMLStringWriter":101,"./XMLStringifier":102}],95:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y,m,g,v,w,b,E={}.hasOwnProperty;b=t("./Utility"),v=b.isObject,g=b.isFunction,w=b.isPlainObject,h=t("./XMLElement"),n=t("./XMLCData"),i=t("./XMLComment"),f=t("./XMLRaw"),m=t("./XMLText"),p=t("./XMLProcessingInstruction"),c=t("./XMLDeclaration"),l=t("./XMLDocType"),o=t("./XMLDTDAttList"),a=t("./XMLDTDEntity"),s=t("./XMLDTDElement"),u=t("./XMLDTDNotation"),r=t("./XMLAttribute"),y=t("./XMLStringifier"),d=t("./XMLStringWriter"),e.exports=function(){function t(t,e,r){var n;t||(t={}),t.writer?w(t.writer)&&(n=t.writer,t.writer=new d(n)):t.writer=new d(t),this.options=t,this.writer=t.writer,this.stringify=new y(t),this.onDataCallback=e||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),v(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new h(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,e,r){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(t,e,r)},t.prototype.attribute=function(t,e){var n,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),v(t))for(n in t)E.call(t,n)&&(i=t[n],this.attribute(n,i));else g(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new r(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new n(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new f(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(r=0,o=t.length;r<o;r++)n=t[r],this.instruction(n);else if(v(t))for(n in t)E.call(t,n)&&(i=t[n],this.instruction(n,i));else g(e)&&(e=e.apply()),s=new p(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new c(this,t,e,r),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new l(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new s(this,t,e),this.onData(this.writer.dtdElement(r,this.currentLevel+1)),this},t.prototype.attList=function(t,e,r,n,i){var s;return this.openCurrent(),s=new o(this,t,e,r,n,i),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new u(this,t,e),this.onData(this.writer.dtdNotation(r,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof h&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},{"./Utility":84,"./XMLAttribute":85,"./XMLCData":86,"./XMLComment":87,"./XMLDTDAttList":88,"./XMLDTDElement":89,"./XMLDTDEntity":90,"./XMLDTDNotation":91,"./XMLDeclaration":92,"./XMLDocType":93,"./XMLElement":96,"./XMLProcessingInstruction":98,"./XMLRaw":99,"./XMLStringWriter":101,"./XMLStringifier":102,"./XMLText":103}],96:[function(t,e,r){(function(){var r,n,i,o,s,a={}.hasOwnProperty;s=t("./Utility"),o=s.isObject,i=s.isFunction,n=t("./XMLNode"),r=t("./XMLAttribute"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name");this.name=this.stringify.eleName(r),this.attributes={},null!=n&&this.attribute(n),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],r.attributes[e]=t.clone());return r.children=[],this.children.forEach(function(t){var e;return(e=t.clone()).parent=r,r.children.push(e)}),r},e.prototype.attribute=function(t,e){var n,s;if(null!=t&&(t=t.valueOf()),o(t))for(n in t)a.call(t,n)&&(s=t[n],this.attribute(n,s));else i(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new r(this,t,e));return this},e.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attributes[e];else delete this.attributes[t];return this},e.prototype.toString=function(t){return this.options.writer.set(t).element(this)},e.prototype.att=function(t,e){return this.attribute(t,e)},e.prototype.a=function(t,e){return this.attribute(t,e)},e}()}).call(this)},{"./Utility":84,"./XMLAttribute":85,"./XMLNode":97}],97:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d={}.hasOwnProperty;f=t("./Utility"),p=f.isObject,h=f.isFunction,l=f.isEmpty,s=null,r=null,n=null,i=null,o=null,u=null,c=null,a=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=t("./XMLElement"),r=t("./XMLCData"),n=t("./XMLComment"),i=t("./XMLDeclaration"),o=t("./XMLDocType"),u=t("./XMLRaw"),c=t("./XMLText"),a=t("./XMLProcessingInstruction"))}return e.prototype.element=function(t,e,r){var n,i,o,s,a,u,c,f,y,m;if(u=null,null==e&&(e={}),e=e.valueOf(),p(e)||(r=(y=[e,r])[0],e=y[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,c=t.length;o<c;o++)i=t[o],u=this.element(i);else if(h(t))u=this.element(t.apply());else if(p(t)){for(a in t)if(d.call(t,a))if(m=t[a],h(m)&&(m=m.apply()),p(m)&&l(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(s=0,f=m.length;s<f;s++)i=m[s],(n={})[a]=i,u=this.element(n);else p(m)?(u=this.element(a)).element(m):u=this.element(a,m)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r);if(null==u)throw new Error("Could not create any elements with: "+t);return u},e.prototype.insertBefore=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},e.prototype.insertAfter=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},e.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},e.prototype.node=function(t,e,r){var n,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),p(e)||(r=(i=[e,r])[0],e=i[1]),n=new s(this,t,e),null!=r&&n.text(r),this.children.push(n),n},e.prototype.text=function(t){var e;return e=new c(this,t),this.children.push(e),this},e.prototype.cdata=function(t){var e;return e=new r(this,t),this.children.push(e),this},e.prototype.comment=function(t){var e;return e=new n(this,t),this.children.push(e),this},e.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.raw=function(t){var e;return e=new u(this,t),this.children.push(e),this},e.prototype.instruction=function(t,e){var r,n,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)r=t[o],this.instruction(r);else if(p(t))for(r in t)d.call(t,r)&&(n=t[r],this.instruction(r,n));else h(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},e.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.declaration=function(t,e,r){var n,o;return n=this.document(),o=new i(n,t,e,r),n.children[0]instanceof i?n.children[0]=o:n.children.unshift(o),n.root()||n},e.prototype.doctype=function(t,e){var r,n,i,s,a,u,c,l,h;for(r=this.document(),n=new o(r,t,e),i=s=0,u=(l=r.children).length;s<u;i=++s)if(l[i]instanceof o)return r.children[i]=n,n;for(i=a=0,c=(h=r.children).length;a<c;i=++a)if(h[i].isRoot)return r.children.splice(i,0,n),n;return r.children.push(n),n},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},e.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},e.prototype.end=function(t){return this.document().end(t)},e.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},e.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},e.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},e.prototype.ele=function(t,e,r){return this.element(t,e,r)},e.prototype.nod=function(t,e,r){return this.node(t,e,r)},e.prototype.txt=function(t){return this.text(t)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},e.prototype.dtd=function(t,e){return this.doctype(t,e)},e.prototype.e=function(t,e,r){return this.element(t,e,r)},e.prototype.n=function(t,e,r){return this.node(t,e,r)},e.prototype.t=function(t){return this.text(t)},e.prototype.d=function(t){return this.cdata(t)},e.prototype.c=function(t){return this.comment(t)},e.prototype.r=function(t){return this.raw(t)},e.prototype.i=function(t,e){return this.instruction(t,e)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(t){return this.importDocument(t)},e}()}).call(this)},{"./Utility":84,"./XMLCData":86,"./XMLComment":87,"./XMLDeclaration":92,"./XMLDocType":93,"./XMLElement":96,"./XMLProcessingInstruction":98,"./XMLRaw":99,"./XMLText":103}],98:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r,n){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(r),n&&(this.value=this.stringify.insValue(n))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},e}()}).call(this)},{"./XMLNode":97}],99:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text");this.value=this.stringify.raw(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},e}()}).call(this)},{"./XMLNode":97}],100:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y={}.hasOwnProperty;u=t("./XMLDeclaration"),c=t("./XMLDocType"),r=t("./XMLCData"),n=t("./XMLComment"),l=t("./XMLElement"),p=t("./XMLRaw"),f=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),d=t("./XMLWriterBase"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,r),this.stream=t}return function(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,d),e.prototype.document=function(t){var e,r,i,o,s,a,l,p;for(r=0,o=(a=t.children).length;r<o;r++)(e=a[r]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,p=[],i=0,s=(l=t.children).length;i<s;i++)switch(e=l[i],!1){case!(e instanceof u):p.push(this.declaration(e));break;case!(e instanceof c):p.push(this.docType(e));break;case!(e instanceof n):p.push(this.comment(e));break;case!(e instanceof h):p.push(this.processingInstruction(e));break;default:p.push(this.element(e))}return p},e.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},e.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},e.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},e.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},e.prototype.docType=function(t,e){var u,c,l,p;if(e||(e=0),this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),c=0,l=(p=t.children).length;c<l;c++)switch(u=p[c],!1){case!(u instanceof i):this.dtdAttList(u,e+1);break;case!(u instanceof o):this.dtdElement(u,e+1);break;case!(u instanceof s):this.dtdEntity(u,e+1);break;case!(u instanceof a):this.dtdNotation(u,e+1);break;case!(u instanceof r):this.cdata(u,e+1);break;case!(u instanceof n):this.comment(u,e+1);break;case!(u instanceof h):this.processingInstruction(u,e+1);break;default:throw new Error("Unknown DTD node type: "+u.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},e.prototype.element=function(t,e){var i,o,s,a,u,c,d,m;for(u in e||(e=0),m=this.space(e),this.stream.write(m+"<"+t.name),c=t.attributes)y.call(c,u)&&(i=c[u],this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),s=0,a=(d=t.children).length;s<a;s++)switch(o=d[s],!1){case!(o instanceof r):this.cdata(o,e+1);break;case!(o instanceof n):this.comment(o,e+1);break;case!(o instanceof l):this.element(o,e+1);break;case!(o instanceof p):this.raw(o,e+1);break;case!(o instanceof f):this.text(o,e+1);break;case!(o instanceof h):this.processingInstruction(o,e+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(m+"</"+t.name+">")}return this.stream.write(this.endline(t))},e.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},e.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},e.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},e.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},e}()}).call(this)},{"./XMLCData":86,"./XMLComment":87,"./XMLDTDAttList":88,"./XMLDTDElement":89,"./XMLDTDEntity":90,"./XMLDTDNotation":91,"./XMLDeclaration":92,"./XMLDocType":93,"./XMLElement":96,"./XMLProcessingInstruction":98,"./XMLRaw":99,"./XMLText":103,"./XMLWriterBase":104}],101:[function(t,e,r){(function(){var r,n,i,o,s,a,u,c,l,h,p,f,d,y={}.hasOwnProperty;u=t("./XMLDeclaration"),c=t("./XMLDocType"),r=t("./XMLCData"),n=t("./XMLComment"),l=t("./XMLElement"),p=t("./XMLRaw"),f=t("./XMLText"),h=t("./XMLProcessingInstruction"),i=t("./XMLDTDAttList"),o=t("./XMLDTDElement"),s=t("./XMLDTDEntity"),a=t("./XMLDTDNotation"),d=t("./XMLWriterBase"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,d),e.prototype.document=function(t){var e,r,i,o,s;for(this.textispresent=!1,o="",r=0,i=(s=t.children).length;r<i;r++)e=s[r],o+=function(){switch(!1){case!(e instanceof u):return this.declaration(e);case!(e instanceof c):return this.docType(e);case!(e instanceof n):return this.comment(e);case!(e instanceof h):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},e.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},e.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},e.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},e.prototype.declaration=function(t,e){var r;return r=this.space(e),r+='<?xml version="'+t.version+'"',null!=t.encoding&&(r+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(r+=' standalone="'+t.standalone+'"'),r+=this.spacebeforeslash+"?>",r+=this.newline},e.prototype.docType=function(t,e){var u,c,l,p,f;if(e||(e=0),p=this.space(e),p+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?p+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(p+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(p+=" [",p+=this.newline,c=0,l=(f=t.children).length;c<l;c++)u=f[c],p+=function(){switch(!1){case!(u instanceof i):return this.dtdAttList(u,e+1);case!(u instanceof o):return this.dtdElement(u,e+1);case!(u instanceof s):return this.dtdEntity(u,e+1);case!(u instanceof a):return this.dtdNotation(u,e+1);case!(u instanceof r):return this.cdata(u,e+1);case!(u instanceof n):return this.comment(u,e+1);case!(u instanceof h):return this.processingInstruction(u,e+1);default:throw new Error("Unknown DTD node type: "+u.constructor.name)}}.call(this);p+="]"}return p+=this.spacebeforeslash+">",p+=this.newline},e.prototype.element=function(t,e){var i,o,s,a,u,c,d,m,g,v,w,b,E;for(d in e||(e=0),E=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m="",m+=(b=this.space(e))+"<"+t.name,g=t.attributes)y.call(g,d)&&(i=g[d],m+=this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?m+="></"+t.name+">"+this.newline:m+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)m+=">",m+=t.children[0].value,m+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(s=0,u=(v=t.children).length;s<u;s++)if(null!=(o=v[s]).value){this.textispresent++,E=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,b=this.space(e)),m+=">"+this.newline,a=0,c=(w=t.children).length;a<c;a++)o=w[a],m+=function(){switch(!1){case!(o instanceof r):return this.cdata(o,e+1);case!(o instanceof n):return this.comment(o,e+1);case!(o instanceof l):return this.element(o,e+1);case!(o instanceof p):return this.raw(o,e+1);case!(o instanceof f):return this.text(o,e+1);case!(o instanceof h):return this.processingInstruction(o,e+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);E&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m+=b+"</"+t.name+">"+this.newline}return m},e.prototype.processingInstruction=function(t,e){var r;return r=this.space(e)+"<?"+t.target,t.value&&(r+=" "+t.value),r+=this.spacebeforeslash+"?>"+this.newline},e.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.dtdAttList=function(t,e){var r;return r=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(r+=" "+t.defaultValueType),t.defaultValue&&(r+=' "'+t.defaultValue+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},e.prototype.dtdEntity=function(t,e){var r;return r=this.space(e)+"<!ENTITY",t.pe&&(r+=" %"),r+=" "+t.name,t.value?r+=' "'+t.value+'"':(t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),t.nData&&(r+=" NDATA "+t.nData)),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdNotation=function(t,e){var r;return r=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?r+=' PUBLIC "'+t.pubID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.openNode=function(t,e){var r,n,i,o;if(e||(e=0),t instanceof l){for(n in i=this.space(e)+"<"+t.name,o=t.attributes)y.call(o,n)&&(r=o[n],i+=this.attribute(r));return i+=(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=(t.children?" [":">")+this.newline},e.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof l):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof c):return this.space(e)+"]>"+this.newline}},e}()}).call(this)},{"./XMLCData":86,"./XMLComment":87,"./XMLDTDAttList":88,"./XMLDTDElement":89,"./XMLDTDEntity":90,"./XMLDTDNotation":91,"./XMLDeclaration":92,"./XMLDocType":93,"./XMLElement":96,"./XMLProcessingInstruction":98,"./XMLRaw":99,"./XMLText":103,"./XMLWriterBase":104}],102:[function(t,e,r){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty;e.exports=function(){function e(e){var n,i,o;for(n in this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.noDoubleEncoding=e.noDoubleEncoding,i=e.stringify||{})r.call(i,n)&&(o=i[n],this[n]=o)}return e.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},e.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},e.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},e.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},e.prototype.raw=function(t){return""+t||""},e.prototype.attName=function(t){return""+t||""},e.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},e.prototype.insTarget=function(t){return""+t||""},e.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},e.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},e.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},e.prototype.xmlStandalone=function(t){return t?"yes":"no"},e.prototype.dtdPubID=function(t){return""+t||""},e.prototype.dtdSysID=function(t){return""+t||""},e.prototype.dtdElementValue=function(t){return""+t||""},e.prototype.dtdAttType=function(t){return""+t||""},e.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},e.prototype.dtdEntityValue=function(t){return""+t||""},e.prototype.dtdNData=function(t){return""+t||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(t){var e;if(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},e.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(this)},{}],103:[function(t,e,r){(function(){var r,n={}.hasOwnProperty;r=t("./XMLNode"),e.exports=function(t){function e(t,r){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text");this.value=this.stringify.eleText(r)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).text(this)},e}()}).call(this)},{"./XMLNode":97}],104:[function(t,e,r){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var r,n,i,o,s,a,u,c,l;for(r in e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(n=e.allowEmpty)&&n,this.pretty?(this.indent=null!=(i=e.indent)?i:"  ",this.newline=null!=(o=e.newline)?o:"\n",this.offset=null!=(s=e.offset)?s:0,this.dontprettytextnodes=null!=(a=e.dontprettytextnodes)?a:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(u=e.spacebeforeslash)?u:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,c=e.writer||{})t.call(c,r)&&(l=c[r],this[r]=l)}return e.prototype.set=function(e){var r,n,i;for(r in e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0,this.dontprettytextnodes="dontprettytextnodes"in e?e.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in e?e.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,n=e.writer||{})t.call(n,r)&&(i=n[r],this[r]=i);return this},e.prototype.space=function(t){var e;return this.pretty&&(e=(t||0)+this.offset+1)>0?new Array(e).join(this.indent):""},e}()}).call(this)},{}],105:[function(t,e,r){(function(){var r,n,i,o,s,a,u;u=t("./Utility"),s=u.assign,a=u.isFunction,r=t("./XMLDocument"),n=t("./XMLDocumentCB"),o=t("./XMLStringWriter"),i=t("./XMLStreamWriter"),e.exports.create=function(t,e,n,i){var o,a;if(null==t)throw new Error("Root element needs a name");return i=s({},e,n,i),a=(o=new r(i)).element(t),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),a},e.exports.begin=function(t,e,i){var o;return a(t)&&(e=(o=[t,e])[0],i=o[1],t={}),e?new n(t,e,i):new r(t)},e.exports.stringWriter=function(t){return new o(t)},e.exports.streamWriter=function(t,e){return new i(t,e)}}).call(this)},{"./Utility":84,"./XMLDocument":94,"./XMLDocumentCB":95,"./XMLStreamWriter":100,"./XMLStringWriter":101}],106:[function(t,e,r){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function s(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var r=this.options,n=new c,o=r.domBuilder||new i,a=r.errorHandler,u=r.locator,l=r.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),n.errorHandler=function(t,e,r){if(!t){if(e instanceof i)return e;t=e}var n={},o=t instanceof Function;function a(e){var i=t[e];!i&&o&&(i=2==t.length?function(r){t(e,r)}:t),n[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+s(r))}||function(){}}return r=r||{},a("warning"),a("error"),a("fatalError"),n}(a,o,u),n.domBuilder=r.domBuilder||o,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t?n.parse(t,l,h):n.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),a=n.length;u(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var c=0;c<a;c++){t=n.getURI(c);var l=n.getValue(c),h=(r=n.getQName(c),i.createAttributeNS(t,r));this.locator&&o(n.getLocator(c),h),h.value=h.nodeValue=l,s.setAttributeNode(h)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,r),u(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=a.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=a.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&o(this.locator,n),u(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&o(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,s(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,s(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,s(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){i.prototype[t]=function(){return null}});var c=t("./sax").XMLReader,l=r.DOMImplementation=t("./dom").DOMImplementation;r.XMLSerializer=t("./dom").XMLSerializer,r.DOMParser=n},{"./dom":107,"./sax":108}],107:[function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e){var r=t.prototype;if(Object.create){var i=Object.create(e.prototype);r.__proto__=i}if(!(r instanceof e)){function o(){}o.prototype=e.prototype,n(r,o=new o),t.prototype=r=o}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var o="http://www.w3.org/1999/xhtml",s={},a=s.ELEMENT_NODE=1,u=s.ATTRIBUTE_NODE=2,c=s.TEXT_NODE=3,l=s.CDATA_SECTION_NODE=4,h=s.ENTITY_REFERENCE_NODE=5,p=s.ENTITY_NODE=6,f=s.PROCESSING_INSTRUCTION_NODE=7,d=s.COMMENT_NODE=8,y=s.DOCUMENT_NODE=9,m=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,v=s.NOTATION_NODE=12,w={},b={},E=(w.INDEX_SIZE_ERR=(b[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),T=(w.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),w.NOT_FOUND_ERR=(b[8]="Not found",8)),x=(w.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));w.INVALID_STATE_ERR=(b[11]="Invalid state",11),w.SYNTAX_ERR=(b[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),w.NAMESPACE_ERR=(b[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function _(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,b[t]),this.message=b[t],Error.captureStackTrace&&Error.captureStackTrace(this,_);return r.code=t,e&&(this.message=this.message+": "+e),r}function S(){}function D(t,e){this._node=t,this._refresh=e,N(this)}function N(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);nt(t,"length",r.length),n(r,t),t._inc=e}}function A(){}function C(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function L(t,e,r,n){if(n?e[C(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&B(i,t,n),function(t,e,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(i,t,r))}}function P(t,e,r){var n=C(e,r);if(!(n>=0))throw _(T,new Error(t.tagName+"@"+r));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(B(o,t,r),r.ownerElement=null)}}function I(t){if(this._features={},t)for(var e in t)this._features=t[e]}function M(){}function O(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function F(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(F(t,e))return!0}while(t=t.nextSibling)}function R(){}function B(t,e,r,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete e._nsMap[r.prefix?r.localName:""]}function j(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function k(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,j(t.ownerDocument,t),e}function X(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===g){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var s=r?r.previousSibling:t.lastChild;i.previousSibling=s,o.nextSibling=r,s?s.nextSibling=i:t.firstChild=i,null==r?t.lastChild=o:r.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return j(t.ownerDocument||t,t),e.nodeType==g&&(e.firstChild=e.lastChild=null),e}function U(){this._nsMap={}}function G(){}function V(){}function W(){}function q(){}function z(){}function H(){}function K(){}function Y(){}function $(){}function Z(){}function J(){}function Q(){}function tt(t,e){var r=[],n=9==this.nodeType?this.documentElement:this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return rt(this,r,t,e,s),r.join("")}function et(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix==n)return s.namespace!=i}return!0}function rt(t,e,r,n,i){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:i||(i=[]);i.length;var s=t.attributes,p=s.length,v=t.firstChild,w=t.tagName;r=o===t.namespaceURI||r,e.push("<",w);for(var b=0;b<p;b++){"xmlns"==(E=s.item(b)).prefix?i.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&i.push({prefix:"",namespace:E.value})}for(b=0;b<p;b++){var E;if(et(E=s.item(b),0,i)){var T=E.prefix||"",x=E.namespaceURI,_=T?" xmlns:"+T:" xmlns";e.push(_,'="',x,'"'),i.push({prefix:T,namespace:x})}rt(E,e,r,n,i)}if(et(t,0,i)){T=t.prefix||"",x=t.namespaceURI,_=T?" xmlns:"+T:" xmlns";e.push(_,'="',x,'"'),i.push({prefix:T,namespace:x})}if(v||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(w)){if(e.push(">"),r&&/^script$/i.test(w))for(;v;)v.data?e.push(v.data):rt(v,e,r,n,i),v=v.nextSibling;else for(;v;)rt(v,e,r,n,i),v=v.nextSibling;e.push("</",w,">")}else e.push("/>");return;case y:case g:for(v=t.firstChild;v;)rt(v,e,r,n,i),v=v.nextSibling;return;case u:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,O),'"');case c:return e.push(t.data.replace(/[<&]/g,O));case l:return e.push("<![CDATA[",t.data,"]]>");case d:return e.push("\x3c!--",t.data,"--\x3e");case m:var S=t.publicId,D=t.systemId;if(e.push("<!DOCTYPE ",t.name),S)e.push(' PUBLIC "',S),D&&"."!=D&&e.push('" "',D),e.push('">');else if(D&&"."!=D)e.push(' SYSTEM "',D,'">');else{var N=t.internalSubset;N&&e.push(" [",N,"]"),e.push(">")}return;case f:return e.push("<?",t.target," ",t.data,"?>");case h:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function nt(t,e,r){t[e]=r}_.prototype=Error.prototype,n(w,_),S.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)rt(this[n],r,t,e);return r.join("")}},D.prototype.item=function(t){return N(this),this[t]},i(D,S),A.prototype={length:0,item:S.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new _(x);var r=this.getNamedItem(t.nodeName);return L(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new _(x);return e=this.getNamedItemNS(t.namespaceURI,t.localName),L(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return P(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return P(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},I.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!(!r||e&&!(e in r))},createDocument:function(t,e,r){var n=new R;if(n.implementation=this,n.childNodes=new S,n.doctype=r,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new H;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=r,n}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return X(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return k(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,n){var i=new r.constructor;for(var o in r){var s=r[o];"object"!=typeof s&&s!=i[o]&&(i[o]=s)}r.childNodes&&(i.childNodes=new S);i.ownerDocument=e;switch(i.nodeType){case a:var c=r.attributes,l=i.attributes=new A,h=c.length;l._ownerElement=i;for(var p=0;p<h;p++)i.setAttributeNode(t(e,c.item(p),!0));break;case u:n=!0}if(n)for(var f=r.firstChild;f;)i.appendChild(t(e,f,n)),f=f.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==c&&t.nodeType==c?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=e.nodeType==u?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==u?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(s,M),n(s,M.prototype),R.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==g){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),X(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),k(this,t)},importNode:function(t,e){return function t(e,r,n){var i;switch(r.nodeType){case a:(i=r.cloneNode(!1)).ownerDocument=e;case g:break;case u:n=!0}i||(i=r.cloneNode(!1));i.ownerDocument=e;i.parentNode=null;if(n)for(var o=r.firstChild;o;)i.appendChild(t(e,o,n)),o=o.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return F(this.documentElement,function(r){if(r.nodeType==a&&r.getAttribute("id")==t)return e=r,!0}),e},createElement:function(t){var e=new U;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new S,(e.attributes=new A)._ownerElement=e,e},createDocumentFragment:function(){var t=new Z;return t.ownerDocument=this,t.childNodes=new S,t},createTextNode:function(t){var e=new W;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new J;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new G;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new $;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new U,n=e.split(":"),i=r.attributes=new A;return r.childNodes=new S,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new G,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},i(R,M),U.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===g?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e),n=t.lastChild}return n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,j(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new D(this,function(e){var r=[];return F(e,function(n){n===e||n.nodeType!=a||"*"!==t&&n.tagName!=t||r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new D(this,function(r){var n=[];return F(r,function(i){i===r||i.nodeType!==a||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)}),n})}},R.prototype.getElementsByTagName=U.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,i(U,M),G.prototype.nodeType=u,i(G,M),V.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(b[E])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},i(V,M),W.prototype={nodeName:"#text",nodeType:c,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},i(W,V),q.prototype={nodeName:"#comment",nodeType:d},i(q,V),z.prototype={nodeName:"#cdata-section",nodeType:l},i(z,V),H.prototype.nodeType=m,i(H,M),K.prototype.nodeType=v,i(K,M),Y.prototype.nodeType=p,i(Y,M),$.prototype.nodeType=h,i($,M),Z.prototype.nodeName="#document-fragment",Z.prototype.nodeType=g,i(Z,M),J.prototype.nodeType=f,i(J,M),Q.prototype.serializeToString=function(t,e,r){return tt.call(t,e,r)},M.prototype.toString=tt;try{if(Object.defineProperty){Object.defineProperty(D.prototype,"length",{get:function(){return N(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case a:case g:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),nt=function(t,e,r){t["$$"+e]=r}}}catch(t){}r.DOMImplementation=I,r.XMLSerializer=Q},{}],108:[function(t,e,r){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$"),s=0,a=1,u=2,c=3,l=4,h=5,p=6,f=7;function d(){}function y(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,r,n,i,o){for(var d,y=++e,m=s;;){var g=t.charAt(y);switch(g){case"=":if(m===a)d=t.slice(e,y),m=c;else{if(m!==u)throw new Error("attribute equal must after attrName");m=c}break;case"'":case'"':if(m===c||m===a){if(m===a&&(o.warning('attribute value must after "="'),d=t.slice(e,y)),e=y+1,!((y=t.indexOf(g,e))>0))throw new Error("attribute value no end '"+g+"' match");v=t.slice(e,y).replace(/&#?\w+;/g,i),r.add(d,v,e-1),m=h}else{if(m!=l)throw new Error('attribute value must after "="');v=t.slice(e,y).replace(/&#?\w+;/g,i),r.add(d,v,e),o.warning('attribute "'+d+'" missed start quot('+g+")!!"),e=y+1,m=h}break;case"/":switch(m){case s:r.setTagName(t.slice(e,y));case h:case p:case f:m=f,r.closed=!0;case l:case a:case u:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),m==s&&r.setTagName(t.slice(e,y)),y;case">":switch(m){case s:r.setTagName(t.slice(e,y));case h:case p:case f:break;case l:case a:"/"===(v=t.slice(e,y)).slice(-1)&&(r.closed=!0,v=v.slice(0,-1));case u:m===u&&(v=d),m==l?(o.warning('attribute "'+v+'" missed quot(")!!'),r.add(d,v.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===n[""]&&v.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),r.add(v,v,e));break;case c:throw new Error("attribute value missed!!")}return y;case"":g=" ";default:if(g<=" ")switch(m){case s:r.setTagName(t.slice(e,y)),m=p;break;case a:d=t.slice(e,y),m=u;break;case l:var v=t.slice(e,y).replace(/&#?\w+;/g,i);o.warning('attribute "'+v+'" missed quot(")!!'),r.add(d,v,e);case h:m=p}else switch(m){case u:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead2!!'),r.add(d,d,e),e=y,m=a;break;case h:o.warning('attribute space is required"'+d+'"!!');case p:m=a,e=y;break;case c:m=l,e=y;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function g(t,e,r){for(var n=t.tagName,i=null,o=t.length;o--;){var s=t[o],a=s.qName,u=s.value;if((p=a.indexOf(":"))>0)var c=s.prefix=a.slice(0,p),l=a.slice(p+1),h="xmlns"===c&&l;else l=a,c=null,h="xmlns"===a&&"";s.localName=l,!1!==h&&(null==i&&(i={},b(r,r={})),r[h]=i[h]=u,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(h,u))}for(o=t.length;o--;){(c=(s=t[o]).prefix)&&("xml"===c&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(s.uri=r[c||""]))}var p;(p=n.indexOf(":"))>0?(c=t.prefix=n.slice(0,p),l=t.localName=n.slice(p+1)):(c=null,l=t.localName=n);var f=t.uri=r[c||""];if(e.startElement(f,l,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=i,!0;if(e.endElement(f,l,n),i)for(c in i)e.endPrefixMapping(c)}function v(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function w(t,e,r,n){var i=n[r];return null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function b(t,e){for(var r in t)e[r]=t[r]}function E(t,e,r,n){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var o=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],u=s>3&&/^public$/i.test(o[2][0])&&o[3][0],c=s>4&&o[4][0],l=o[s-1];return r.startDTD(a,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),l.index+l[0].length}}return-1}function T(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function x(t){}function _(t,e){return t.__proto__=e,t}d.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),b(e,e={}),function(t,e,r,n,i){function o(t){var e=t.slice(1,-1);return e in r?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function s(e){if(e>d){var r=t.substring(d,e).replace(/&#?\w+;/g,o);h&&a(d),n.characters(r,0,e-d),d=e}}function a(e,r){for(;e>=c&&(r=l.exec(t));)u=r.index,c=u+r[0].length,h.lineNumber++;h.columnNumber=e-u+1}var u=0,c=0,l=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:e}],f={},d=0;for(;;){try{var b=t.indexOf("<",d);if(b<0){if(!t.substr(d).match(/^\s*$/)){var _=n.doc,S=_.createTextNode(t.substr(d));_.appendChild(S),n.currentElement=S}return}switch(b>d&&s(b),t.charAt(b+1)){case"/":var D=t.indexOf(">",b+3),N=t.substring(b+2,D),A=p.pop();D<0?(N=t.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+N+" is not complete:"+A.tagName),D=b+1+N.length):N.match(/\s</)&&(N=N.replace(/[\s<].*/,""),i.error("end tag name: "+N+" maybe not complete"),D=b+1+N.length);var C=A.localNSMap,L=A.tagName==N,P=L||A.tagName&&A.tagName.toLowerCase()==N.toLowerCase();if(P){if(n.endElement(A.uri,A.localName,N),C)for(var I in C)n.endPrefixMapping(I);L||i.fatalError("end tag name: "+N+" is not match the current start tagName:"+A.tagName)}else p.push(A);D++;break;case"?":h&&a(b),D=T(t,b,n);break;case"!":h&&a(b),D=E(t,b,n,i);break;default:h&&a(b);var M=new x,O=p[p.length-1].currentNSMap,D=m(t,b,M,O,o,i),F=M.length;if(!M.closed&&w(t,D,M.tagName,f)&&(M.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&F){for(var R=y(h,{}),B=0;B<F;B++){var j=M[B];a(j.offset),j.locator=y(h,{})}n.locator=R,g(M,n,O)&&p.push(M),n.locator=h}else g(M,n,O)&&p.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?D++:D=v(t,D,M.tagName,o,n)}}catch(t){i.error("element parse error: "+t),D=-1}D>d?d=D:s(Math.max(b,d)+1)}}(t,e,r,n,this.errorHandler),n.endDocument()}},x.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,r){if(!o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},_({},_.prototype)instanceof _||(_=function(t,e){function r(){}for(e in r.prototype=e,r=new r,t)r[e]=t[e];return r}),r.XMLReader=d},{}],109:[function(t,e,r){(function(r){"use strict";var n=t("xcode"),i=t("xml2js"),o=t("path"),s=t("http"),a=t("fs-extra"),u=t("./log"),c="./adcolony/plugin",l=".",h={};function p(t){var e=a.readFileSync(t.filePath);if(!(e.indexOf(t.checkStr)>=0)){var n=e.indexOf(t.positionStr);if(n<0)u.e("fail to find "+t.positionStr);else{var i=r.alloc(e.length+t.insertStr.length),o=i.write(e.toString("utf8",0,n));t.before&&(o+=i.write(t.insertStr,o)),o+=i.write(t.positionStr,o),t.before||(o+=i.write(t.insertStr,o)),o+=i.write(e.toString("utf8",n+t.positionStr.length,e.length),o),a.writeFileSync(t.filePath,i)}}}function f(t){p({filePath:t,checkStr:"cocos.plugin.AdColonyWrapper.getInstance().create(this);",positionStr:"        SDKWrapper.getInstance().init(this);",before:!0,insertStr:"\ncocos.plugin.AdColonyWrapper.getInstance().create(this);\n\n"})}function d(t,e){p({filePath:t,checkStr:"#Cocos-Plugin-AdColony",positionStr:"LOCAL_C_INCLUDES",before:!0,insertStr:e})}function y(t){var e=new i.Parser;a.readFile(t,function(r,n){e.parseString(n,function(e,r){if(e)u.e("parser manifest failed:"+e);else{var n=!1,o={$:{"android:name":"com.adcolony.sdk.AdColonyInterstitialActivity","android:configChanges":"keyboardHidden|orientation|screenSize","android:hardwareAccelerated":"true"}},s={$:{"android:name":"com.adcolony.sdk.AdColonyAdViewActivity","android:configChanges":"keyboardHidden|orientation|screenSize","android:hardwareAccelerated":"true"}},c=r.manifest.application[0];if(c.activity.forEach(function(t){null!=o&&t.$["android:name"]==o.$["android:name"]?o=null:null!=s&&t.$["android:name"]==s.$["android:name"]&&(s=null)}),o&&(c.activity.push(o),n=!0),s&&(c.activity.push(s),n=!0),n){var l=new i.Builder;a.writeFileSync(t,l.buildObject(r))}}})})}function m(){var t,e,r,n,i;p({filePath:t=o.join(l,"frameworks","runtime-src","Classes","AppDelegate.cpp"),checkStr:'#include "AdColonyJSHelper.h"',positionStr:'#include "cocos2d.h"',before:!0,insertStr:'\n#include "AdColonyJSHelper.h"\n\n'}),p({filePath:t,checkStr:"se->addRegisterCallback(register_all_CocosPluginAdColonyJS_AdColony);",positionStr:"    se->start();",before:!0,insertStr:"\nse->addRegisterCallback(register_all_CocosPluginAdColonyJS_AdColony);\n\n"}),function(t,e){var r=!0,n=t.split("."),i=e.split(".");function o(t){return(r?/^\d+[A-Za-z]*$/:/^\d+$/).test(t)}if(!n.every(o)||!i.every(o))return NaN;for(1;n.length<i.length;)n.push("0");for(;i.length<n.length;)i.push("0");r||(n=n.map(Number),i=i.map(Number));for(var s=0;s<n.length;++s){if(i.length==s)return 1;if(n[s]!=i[s])return n[s]>i[s]?1:-1}if(n.length!=i.length)return-1;return 0}(Editor.App.version,"2.0.0")<0&&(e=o.join(l,"frameworks","runtime-src","Classes","AdColonyJSHelper.cpp"),r="cocos2d::Application::getInstance()->getScheduler()->performFunctionInCocosThread",n="cocos2d::Director::getInstance()->getScheduler()->performFunctionInCocosThread",i=(i=a.readFileSync(e)).toString().replace(r,n),a.writeFileSync(e,i));var s=o.join(l,"frameworks","runtime-src","proj.android");a.existsSync(s)&&(y(o.join(s,"AndroidManifest.xml")),d(o.join(s,"jni","Android.mk"),"\n    #Cocos-Plugin-AdColony\n    LOCAL_SRC_FILES += ../../Classes/AdColonyJSHelper.cpp \\\n                        ../../Classes/AdColonyWrapper-android.cpp \\\n                        ../../Classes/AdColonyWrapper.cpp \\\n                        ../../Classes/cJSON.c\n\n        "),f(o.join(s,"src","org","cocos2dx","javascript","AppActivity.java")));var u=o.join(l,"frameworks","runtime-src","proj.android-studio");return y(o.join(u,"app","AndroidManifest.xml")),d(o.join(u,"app","jni","Android.mk"),"\n#Cocos-Plugin-AdColony\nLOCAL_SRC_FILES += ../../../Classes/AdColonyJSHelper.cpp \\\n                    ../../../Classes/AdColonyWrapper-android.cpp \\\n                    ../../../Classes/AdColonyWrapper.cpp \\\n                    ../../../Classes/cJSON.c\n\n    "),f(o.join(u,"app","src","org","cocos2dx","javascript","AppActivity.java")),!0}function g(){var t,e,r,i,s,u=!0;return u=(u=(u=(u=(u=u&&function(){var t=o.join(c,"source"),e=o.join(l,"frameworks","runtime-src","Classes");a.copySync(t,e,{filter:function(t){return!o.normalize(t).endsWith("plugin/source/cocos")&&!o.normalize(t).endsWith("plugin\\source\\cocos")}}),t=o.join(t,"cocos");var r=o.join(l,"frameworks","runtime-src","proj.android");return a.existsSync(r)&&(e=o.join(r,"src","cocos"),a.copySync(t,e)),e=o.join(l,"frameworks","runtime-src","proj.android-studio","app","src","cocos"),a.copySync(t,e),!0}())&&(t=o.join(c,"adcolony","iOS","AdColony.framework"),e=o.join(l,"frameworks","runtime-src","proj.ios_mac"),a.removeSync(o.join(e,"AdColony.framework")),a.copySync(t,o.join(e,"AdColony.framework")),!0))&&(r=null,i=a.existsSync(o.join(l,"frameworks","runtime-src","proj.android")),s=o.join(c,"adcolony","Android"),i&&(r=o.join(l,"frameworks","runtime-src","proj.android","jni"),a.copySync(s,r,{filter:function(t){return!t.endsWith("adcolony.jar")}}),r=o.join(l,"frameworks","runtime-src","proj.android","libs"),a.copySync(s,r,{filter:function(t){return!(t.endsWith("arm64-v8a")||t.endsWith("armeabi")||t.endsWith("armeabi-v7a")||t.endsWith("x86")||t.endsWith("x86_64"))}})),r=o.join(l,"frameworks","runtime-src","proj.android-studio","app","libs"),a.copySync(s,r),!0))&&function(){var t=o.join(l,"frameworks","runtime-src","proj.ios_mac"),e="";a.readdirSync(t).forEach(function(t){t.endsWith("xcodeproj")&&(e=t)});var r=o.normalize(o.join(t,e,"project.pbxproj")),i=n.project(r);i.parseSync();var s=function(t){var e=t.pbxNativeTargetSection();for(var r in e){var n=e[r].name;if(n&&n.endsWith('mobile"'))return n}}(i),u=i.findTargetKey(s),c=i.findPBXGroupKey({name:"Classes"});return i.addHeaderFile("AdColonyJSHelper.h",{},c),i.addHeaderFile("AdColonyWrapper.h",{},c),i.addHeaderFile("cJSON.h",{},c),i.addSourceFile("AdColonyJSHelper.cpp",{target:u},c),i.addSourceFile("AdColonyWrapper.cpp",{target:u},c),i.addSourceFile("AdColonyWrapper-ios.mm",{target:u},c),i.addSourceFile("cJSON.c",{target:u},c),i.addFramework("AdColony.framework",{customFramework:!0,target:u}),i.addFramework("StoreKit.framework",{target:u}),i.addFramework("Social.framework",{target:u}),i.addFramework("EventKit.framework",{target:u}),i.addFramework("CoreMotion.framework",{target:u}),i.addFramework("CoreMedia.framework",{target:u}),i.addFramework("MessageUI.framework",{target:u}),i.addFramework("WatchConnectivity.framework",{target:u}),a.writeFileSync(r,i.writeSync()),!0}())&&m()}e.exports={installAdColony:function(t,e,r){l=t,c=e;var n,i,u=g()&&function(t){var e=o.join(t,".adcolony","creator",".cocos_plugin_adcolony_config.json"),r=o.join(l,"res","cocos_plugin_adcolony_config.json");if(!a.existsSync(e))throw"Have not configure AdColony";return a.copySync(e,r),!0}(r);return(i={event:"install_adcolony_standalone",installResult:u}).chanel="creator","undefined"!=typeof Editor&&(i.userName=Editor.lastLogin,i.creatorVersion=Editor.App.version),i.version=h.version,n="http://metrics.sdkbox.com/?"+JSON.stringify(i),s.get(n,function(t){}).on("error",function(t){}),u},setInfo:function(t){h=t}}}).call(this,t("buffer").Buffer)},{"./log":110,buffer:7,"fs-extra":"fs-extra",http:"http",path:"path",xcode:73,xml2js:83}],110:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=null,o=0,s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.level=o}return n(t,null,[{key:"getInstance",value:function(){return i||(i=new t),i}},{key:"d",value:function(e){var r=t.getInstance();r.shouldOutput(o)&&r.l(e)}},{key:"w",value:function(e){var r=t.getInstance();r.shouldOutput(1)&&r.l(e)}},{key:"e",value:function(e){var r=t.getInstance();r.shouldOutput(2)&&r.l(e)}}]),n(t,[{key:"shouldOutput",value:function(t){return!(t<this.level)}},{key:"l",value:function(t){"undefined"==typeof Editor?console.log(t):Editor.log(t)}}]),t}();e.exports=s},{}]},{},[109])(109)});